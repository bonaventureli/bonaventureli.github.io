
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>sphinx 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="welcome-to-sphinx-s-documentation">
<h1>Welcome to sphinx’s documentation!<a class="headerlink" href="#welcome-to-sphinx-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<span id="document-usage/pyqt5"></span><div class="section" id="pyqt5">
<h2><span class="section-number">1. </span>pyqt5<a class="headerlink" href="#pyqt5" title="Permalink to this headline">¶</a></h2>
<p>pip install sphinx
pip install pdfrw
pip install rst2pdf
pip install anaconda</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;sphinx.ext.autodoc&#39;</span><span class="p">,</span>
    <span class="s1">&#39;rst2pdf.pdfbuilder&#39;</span>
<span class="p">]</span>
</pre></div>
</div>
<p><a class="reference external" href="https://blog.csdn.net/weixin_34195546/article/details/91902501">https://blog.csdn.net/weixin_34195546/article/details/91902501</a></p>
<p><a class="reference external" href="https://www.hankcs.com/program/python/the-use-of-rst2pdf-to-expand-sphinx-to-generate-pdf.html">https://www.hankcs.com/program/python/the-use-of-rst2pdf-to-expand-sphinx-to-generate-pdf.html</a></p>
<p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/quickstart.html">https://www.sphinx-doc.org/en/master/usage/quickstart.html</a></p>
<p><a class="reference external" href="http://www.pythondoc.com/sphinx/rest.html#rst-tables">http://www.pythondoc.com/sphinx/rest.html#rst-tables</a></p>
<p><a class="reference external" href="https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#grid-tables">https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#grid-tables</a></p>
<p><a class="reference external" href="https://pypi.org/project/PyQt5/">https://pypi.org/project/PyQt5/</a></p>
<p><a class="reference external" href="https://www.learnpyqt.com/">https://www.learnpyqt.com/</a></p>
<p><a class="reference external" href="https://www.runoob.com/python/python-chinese-encoding.html">https://www.runoob.com/python/python-chinese-encoding.html</a></p>
<div class="section" id="creating-a-window">
<h3><span class="section-number">1.1. </span>Creating a window<a class="headerlink" href="#creating-a-window" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtWidgets</span> <span class="kn">import</span> <span class="n">QApplication</span><span class="p">,</span> <span class="n">QWidget</span>


<span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>

<span class="n">window</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
<span class="n">window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span> <span class="c1"># IMPORTANT!!!!! Windows are hidden by default.</span>

<span class="c1"># Start the event loop.</span>
<span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtWidgets</span> <span class="kn">import</span> <span class="n">QApplication</span><span class="p">,</span> <span class="n">QMainWindow</span>


<span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>

<span class="n">window</span> <span class="o">=</span> <span class="n">QMainWindow</span><span class="p">()</span>
<span class="n">window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span> <span class="c1"># IMPORTANT!!!!! Windows are hidden by default.</span>

<span class="c1"># Start the event loop.</span>
<span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="my-first-widget">
<h3><span class="section-number">1.2. </span>My first widget<a class="headerlink" href="#my-first-widget" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtWidgets</span> <span class="kn">import</span> <span class="n">QApplication</span><span class="p">,</span> <span class="n">QLabel</span><span class="p">,</span> <span class="n">QMainWindow</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtCore</span> <span class="kn">import</span> <span class="n">Qt</span>

<span class="c1"># Subclass QMainWindow to customise your application&#39;s main window</span>
<span class="k">class</span> <span class="nc">MainWindow</span><span class="p">(</span><span class="n">QMainWindow</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MainWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;My Awesome App&quot;</span><span class="p">)</span>

        <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;This is a PyQt5 window!&quot;</span><span class="p">)</span>

        <span class="c1"># The `Qt` namespace has a lot of attributes to customise</span>
        <span class="c1"># widgets. See: http://doc.qt.io/qt-5/qt.html</span>
        <span class="n">label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>

        <span class="c1"># Set the central widget of the Window. Widget will expand</span>
        <span class="c1"># to take up all the space in the window by default.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setCentralWidget</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>


<span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>

<span class="n">window</span> <span class="o">=</span> <span class="n">MainWindow</span><span class="p">()</span>
<span class="n">window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/firstwindow.png" src="_images/firstwindow.png" />
</div>
<div class="section" id="first-steps-with-qt-designer">
<h3><span class="section-number">1.3. </span>First steps with Qt Designer<a class="headerlink" href="#first-steps-with-qt-designer" title="Permalink to this headline">¶</a></h3>
<img alt="_images/qt1.png" src="_images/qt1.png" />
<p>Using your generated .ui file</p>
<ul class="simple">
<li><p>load into into a class using the .loadUI() method</p></li>
<li><p>convert it to Python using the pyuic5 tool.</p></li>
</ul>
</div>
<div class="section" id="loading-the-ui-file-directly">
<h3><span class="section-number">1.4. </span>Loading the .ui file directly<a class="headerlink" href="#loading-the-ui-file-directly" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">PyQt5</span> <span class="kn">import</span> <span class="n">QtWidgets</span><span class="p">,</span> <span class="n">uic</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>

<span class="n">window</span> <span class="o">=</span> <span class="n">uic</span><span class="o">.</span><span class="n">loadUi</span><span class="p">(</span><span class="s2">&quot;mainwindow.ui&quot;</span><span class="p">)</span>
<span class="n">window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">exec</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">PyQt5</span> <span class="kn">import</span> <span class="n">QtCore</span><span class="p">,</span> <span class="n">QtGui</span><span class="p">,</span> <span class="n">QtWidgets</span>
<span class="kn">from</span> <span class="nn">PyQt5</span> <span class="kn">import</span> <span class="n">uic</span>

<span class="k">class</span> <span class="nc">MainWindow</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMainWindow</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">uic</span><span class="o">.</span><span class="n">loadUi</span><span class="p">(</span><span class="s2">&quot;mainwindow.ui&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>


<span class="n">app</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
<span class="n">window</span> <span class="o">=</span> <span class="n">MainWindow</span><span class="p">()</span>
<span class="n">window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="converting-your-ui-file-to-python">
<h3><span class="section-number">1.5. </span>Converting your .ui file to Python<a class="headerlink" href="#converting-your-ui-file-to-python" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyuic5</span> <span class="n">mainwindow</span><span class="o">.</span><span class="n">ui</span> <span class="o">-</span><span class="n">o</span> <span class="n">MainWindow</span><span class="o">.</span><span class="n">py</span>
<span class="kn">from</span> <span class="nn">MainWindow</span> <span class="kn">import</span> <span class="n">Ui_MainWindow</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">PyQt5</span> <span class="kn">import</span> <span class="n">QtWidgets</span><span class="p">,</span> <span class="n">uic</span>

<span class="kn">from</span> <span class="nn">MainWindow</span> <span class="kn">import</span> <span class="n">Ui_MainWindow</span>


<span class="k">class</span> <span class="nc">MainWindow</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMainWindow</span><span class="p">,</span> <span class="n">Ui_MainWindow</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MainWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>


<span class="n">app</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>

<span class="n">window</span> <span class="o">=</span> <span class="n">MainWindow</span><span class="p">()</span>
<span class="n">window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">exec</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="pyqt">
<h3><span class="section-number">1.6. </span>打包发布pyqt应用程序<a class="headerlink" href="#pyqt" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://www.pyinstaller.org/">http://www.pyinstaller.org/</a></p>
<div class="section" id="pyinstaller-quickstart">
<h4><span class="section-number">1.6.1. </span>PyInstaller Quickstart<a class="headerlink" href="#pyinstaller-quickstart" title="Permalink to this headline">¶</a></h4>
<p>Install PyInstaller from PyPI:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">pyinstaller</span>
</pre></div>
</div>
<p>Go to your program’s directory and run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyinstaller</span> <span class="n">yourprogram</span><span class="o">.</span><span class="n">py</span>
<span class="n">pyinstaller</span> <span class="o">-</span><span class="n">Fw</span> <span class="n">yourprogram</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>This will generate the bundle in a subdirectory called dist.</p>
<p>C:UserslfwenAppDataLocalProgramsPythonPython36python.exe</p>
<p>C:Program FilesWindowsAppsPythonSoftwareFoundation.Python.3.7_3.7.1776.0_x64__qbz5n2kfra8p0python.exe</p>
</div>
</div>
</div>
<div class="section" id="ui">
<h2><span class="section-number">2. </span>ui界面控件说明<a class="headerlink" href="#ui" title="Permalink to this headline">¶</a></h2>
<p>列表窗口部件</p>
<p>树窗口部件</p>
<p>表格窗口部件</p>
<div class="section" id="id1">
<h3><span class="section-number">2.1. </span>树形结构控件实现多窗口切换<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="containers">
<h3><span class="section-number">2.2. </span>把所有控件放在一个界面里方法Containers控件<a class="headerlink" href="#containers" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="lineedit">
<h3><span class="section-number">2.3. </span>lineEdit获取文字<a class="headerlink" href="#lineedit" title="Permalink to this headline">¶</a></h3>
<p>lineEdit.text()</p>
</div>
<div class="section" id="id2">
<h3><span class="section-number">2.4. </span>lineEdit设置文字<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>lineEdit.setText()</p>
</div>
</div>
<span id="document-usage/python"></span><div class="section" id="python">
<h2><span class="section-number">3. </span>python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3><span class="section-number">3.1. </span>Python 面向对象<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Python从设计之初就已经是一门面向对象的语言，正因为如此，在Python中创建一个类和对象是很容易的。本章节我们将详细介绍Python的面向对象编程。
如果你以前没有接触过面向对象的编程语言，那你可能需要先了解一些面向对象语言的一些基本特征，在头脑里头形成一个基本的面向对象的概念，这样有助于你更容易的学习Python的面向对象编程。
接下来我们先来简单的了解下面向对象的一些基本特征。</p>
</div>
<div class="section" id="id2">
<h3><span class="section-number">3.2. </span>面向对象技术简介<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>类(Class): 用来描述具有相同的属性和方法的对象的集合。它定义了该集合中每个对象所共有的属性和方法。对象是类的实例。
类变量：类变量在整个实例化的对象中是公用的。类变量定义在类中且在函数体之外。类变量通常不作为实例变量使用。
数据成员：类变量或者实例变量, 用于处理类及其实例对象的相关的数据。
方法重写：如果从父类继承的方法不能满足子类的需求，可以对其进行改写，这个过程叫方法的覆盖（override），也称为方法的重写。
局部变量：定义在方法中的变量，只作用于当前实例的类。
实例变量：在类的声明中，属性是用变量来表示的。这种变量就称为实例变量，是在类声明的内部但是在类的其他成员方法之外声明的。
继承：即一个派生类（derived class）继承基类（base class）的字段和方法。继承也允许把一个派生类的对象作为一个基类对象对待。例如，有这样一个设计：一个Dog类型的对象派生自Animal类，这是模拟”是一个（is-a）”关系（例图，Dog是一个Animal）。
实例化：创建一个类的实例，类的具体对象。
方法：类中定义的函数。
对象：通过类定义的数据结构实例。对象包括两个数据成员（类变量和实例变量）和方法。</p>
</div>
<div class="section" id="id3">
<h3><span class="section-number">3.3. </span>创建类<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>使用 class 语句来创建一个新类，class 之后为类的名称并以冒号结尾:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ClassName</span><span class="p">:</span>
   <span class="s1">&#39;类的帮助信息&#39;</span>   <span class="c1">#类文档字符串</span>
   <span class="n">class_suite</span>  <span class="c1">#类体</span>
</pre></div>
</div>
<p>类的帮助信息可以通过ClassName.__doc__查看。
class_suite 由类成员，方法，数据属性组成。</p>
<p>实例</p>
<p>以下是一个简单的 Python 类的例子:
实例</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>
   <span class="s1">&#39;所有员工的基类&#39;</span>
   <span class="n">empCount</span> <span class="o">=</span> <span class="mi">0</span>

   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">salary</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span> <span class="n">salary</span>
      <span class="n">Employee</span><span class="o">.</span><span class="n">empCount</span> <span class="o">+=</span> <span class="mi">1</span>

   <span class="k">def</span> <span class="nf">displayCount</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
     <span class="nb">print</span> <span class="s2">&quot;Total Employee </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">Employee</span><span class="o">.</span><span class="n">empCount</span>

   <span class="k">def</span> <span class="nf">displayEmployee</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="nb">print</span> <span class="s2">&quot;Name : &quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>  <span class="s2">&quot;, Salary: &quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">salary</span>
</pre></div>
</div>
<p>empCount 变量是一个类变量，它的值将在这个类的所有实例之间共享。你可以在内部类或外部类使用 Employee.empCount 访问。</p>
</div>
<div class="section" id="init">
<h3><span class="section-number">3.4. </span>__init__<a class="headerlink" href="#init" title="Permalink to this headline">¶</a></h3>
<p>第一种方法__init__()方法是一种特殊的方法，被称为类的构造函数或初始化方法，当创建了这个类的实例时就会调用该方法</p>
</div>
<div class="section" id="self">
<h3><span class="section-number">3.5. </span>self<a class="headerlink" href="#self" title="Permalink to this headline">¶</a></h3>
<p>self 代表类的实例，self 在定义类的方法时是必须有的，虽然在调用时不必传入相应的参数。
self代表类的实例，而非类
类的方法与普通的函数只有一个特别的区别——它们必须有一个额外的第一个参数名称, 按照惯例它的名称是 self。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Test</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">prt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">Test</span><span class="p">()</span>
<span class="n">t</span><span class="o">.</span><span class="n">prt</span><span class="p">()</span>
</pre></div>
</div>
<p>以上实例执行结果为：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">__main__</span><span class="o">.</span><span class="n">Test</span> <span class="n">instance</span> <span class="n">at</span> <span class="mh">0x10d066878</span><span class="o">&gt;</span>
<span class="n">__main__</span><span class="o">.</span><span class="n">Test</span>
</pre></div>
</div>
<p>从执行结果可以很明显的看出，self 代表的是类的实例，代表当前对象的地址，而 self.__class__ 则指向类。
<strong>self不是python 关键字，我们把他换成 runoob 也是可以正常执行的</strong>
实例</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Test</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">prt</span><span class="p">(</span><span class="n">runoob</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">runoob</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">runoob</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">Test</span><span class="p">()</span>
<span class="n">t</span><span class="o">.</span><span class="n">prt</span><span class="p">()</span>
</pre></div>
</div>
<p>以上实例执行结果为：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">__main__</span><span class="o">.</span><span class="n">Test</span> <span class="n">instance</span> <span class="n">at</span> <span class="mh">0x10d066878</span><span class="o">&gt;</span>
<span class="n">__main__</span><span class="o">.</span><span class="n">Test</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h3><span class="section-number">3.6. </span>创建实例对象<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>实例化类其他编程语言中一般用关键字new，但是在Python中并没有这个关键字，类的实例化类似函数调用方式。
以下使用类的名称 Employee 来实例化，并通过 __init__ 方法接收参数。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;创建 Employee 类的第一个对象&quot;</span>
<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s2">&quot;Zara&quot;</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
<span class="s2">&quot;创建 Employee 类的第二个对象&quot;</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s2">&quot;Manni&quot;</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h3><span class="section-number">3.7. </span>访问属性<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>您可以使用点号 . 来访问对象的属性。使用如下类的名称访问类变量:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">emp1</span><span class="o">.</span><span class="n">displayEmployee</span><span class="p">()</span>
<span class="n">emp2</span><span class="o">.</span><span class="n">displayEmployee</span><span class="p">()</span>
<span class="nb">print</span> <span class="s2">&quot;Total Employee </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">Employee</span><span class="o">.</span><span class="n">empCount</span>
</pre></div>
</div>
<p>完整实例：
实例</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>
   <span class="s1">&#39;所有员工的基类&#39;</span>
   <span class="n">empCount</span> <span class="o">=</span> <span class="mi">0</span>

   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">salary</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span> <span class="n">salary</span>
      <span class="n">Employee</span><span class="o">.</span><span class="n">empCount</span> <span class="o">+=</span> <span class="mi">1</span>

   <span class="k">def</span> <span class="nf">displayCount</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
     <span class="nb">print</span> <span class="s2">&quot;Total Employee </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">Employee</span><span class="o">.</span><span class="n">empCount</span>

   <span class="k">def</span> <span class="nf">displayEmployee</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="nb">print</span> <span class="s2">&quot;Name : &quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>  <span class="s2">&quot;, Salary: &quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">salary</span>

<span class="s2">&quot;创建 Employee 类的第一个对象&quot;</span>
<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s2">&quot;Zara&quot;</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
<span class="s2">&quot;创建 Employee 类的第二个对象&quot;</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s2">&quot;Manni&quot;</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span>
<span class="n">emp1</span><span class="o">.</span><span class="n">displayEmployee</span><span class="p">()</span>
<span class="n">emp2</span><span class="o">.</span><span class="n">displayEmployee</span><span class="p">()</span>
<span class="nb">print</span> <span class="s2">&quot;Total Employee </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">Employee</span><span class="o">.</span><span class="n">empCount</span>
</pre></div>
</div>
<p>执行以上代码输出结果如下：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Name</span> <span class="p">:</span>  <span class="n">Zara</span> <span class="p">,</span><span class="n">Salary</span><span class="p">:</span>  <span class="mi">2000</span>
<span class="n">Name</span> <span class="p">:</span>  <span class="n">Manni</span> <span class="p">,</span><span class="n">Salary</span><span class="p">:</span>  <span class="mi">5000</span>
<span class="n">Total</span> <span class="n">Employee</span> <span class="mi">2</span>
</pre></div>
</div>
<p>你可以添加，删除，修改类的属性，如下所示：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>emp1.age = 7  # 添加一个 &#39;age&#39; 属性
emp1.age = 8  # 修改 &#39;age&#39; 属性
del emp1.age  # 删除 &#39;age&#39; 属性
你也可以使用以下函数的方式来访问属性：
getattr(obj, name[, default]) : 访问对象的属性。
hasattr(obj,name) : 检查是否存在一个属性。
setattr(obj,name,value) : 设置一个属性。如果属性不存在，会创建一个新属性。
delattr(obj, name) : 删除属性。
hasattr(emp1, &#39;age&#39;)    # 如果存在 &#39;age&#39; 属性返回 True。
getattr(emp1, &#39;age&#39;)    # 返回 &#39;age&#39; 属性的值
setattr(emp1, &#39;age&#39;, 8) # 添加属性 &#39;age&#39; 值为 8
delattr(emp1, &#39;age&#39;)    # 删除属性 &#39;age&#39;
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h3><span class="section-number">3.8. </span>Python内置类属性<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>__dict__ : 类的属性（包含一个字典，由类的数据属性组成）
__doc__ :类的文档字符串
__name__: 类名
__module__: 类定义所在的模块（类的全名是’__main__.className’，如果类位于一个导入模块mymod中，那么className.__module__ 等于 mymod）
__bases__ : 类的所有父类构成元素（包含了一个由所有父类组成的元组）</p>
<p>Python内置类属性调用实例如下：</p>
<p>实例</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>
   <span class="s1">&#39;所有员工的基类&#39;</span>
   <span class="n">empCount</span> <span class="o">=</span> <span class="mi">0</span>

   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">salary</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span> <span class="n">salary</span>
      <span class="n">Employee</span><span class="o">.</span><span class="n">empCount</span> <span class="o">+=</span> <span class="mi">1</span>

   <span class="k">def</span> <span class="nf">displayCount</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
     <span class="nb">print</span> <span class="s2">&quot;Total Employee </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">Employee</span><span class="o">.</span><span class="n">empCount</span>

   <span class="k">def</span> <span class="nf">displayEmployee</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="nb">print</span> <span class="s2">&quot;Name : &quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>  <span class="s2">&quot;, Salary: &quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">salary</span>

<span class="nb">print</span> <span class="s2">&quot;Employee.__doc__:&quot;</span><span class="p">,</span> <span class="n">Employee</span><span class="o">.</span><span class="vm">__doc__</span>
<span class="nb">print</span> <span class="s2">&quot;Employee.__name__:&quot;</span><span class="p">,</span> <span class="n">Employee</span><span class="o">.</span><span class="vm">__name__</span>
<span class="nb">print</span> <span class="s2">&quot;Employee.__module__:&quot;</span><span class="p">,</span> <span class="n">Employee</span><span class="o">.</span><span class="vm">__module__</span>
<span class="nb">print</span> <span class="s2">&quot;Employee.__bases__:&quot;</span><span class="p">,</span> <span class="n">Employee</span><span class="o">.</span><span class="vm">__bases__</span>
<span class="nb">print</span> <span class="s2">&quot;Employee.__dict__:&quot;</span><span class="p">,</span> <span class="n">Employee</span><span class="o">.</span><span class="vm">__dict__</span>
</pre></div>
</div>
<p>执行以上代码输出结果如下：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Employee</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">:</span> <span class="n">所有员工的基类</span>
<span class="n">Employee</span><span class="o">.</span><span class="vm">__name__</span><span class="p">:</span> <span class="n">Employee</span>
<span class="n">Employee</span><span class="o">.</span><span class="vm">__module__</span><span class="p">:</span> <span class="n">__main__</span>
<span class="n">Employee</span><span class="o">.</span><span class="vm">__bases__</span><span class="p">:</span> <span class="p">()</span>
<span class="n">Employee</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;__module__&#39;</span><span class="p">:</span> <span class="s1">&#39;__main__&#39;</span><span class="p">,</span> <span class="s1">&#39;displayCount&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">function</span> <span class="n">displayCount</span> <span class="n">at</span> <span class="mh">0x10a939c80</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;empCount&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;displayEmployee&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">function</span> <span class="n">displayEmployee</span> <span class="n">at</span> <span class="mh">0x10a93caa0</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;__doc__&#39;</span><span class="p">:</span> <span class="s1">&#39;</span><span class="se">\xe6\x89\x80\xe6\x9c\x89\xe5\x91\x98\xe5\xb7\xa5\xe7\x9a\x84\xe5\x9f\xba\xe7\xb1\xbb</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;__init__&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">function</span> <span class="fm">__init__</span> <span class="n">at</span> <span class="mh">0x10a939578</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h3><span class="section-number">3.9. </span>python对象销毁(垃圾回收)<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>Python 使用了引用计数这一简单技术来跟踪和回收垃圾。
在 Python 内部记录着所有使用中的对象各有多少引用。</p>
<p>一个内部跟踪变量，称为一个引用计数器。
当对象被创建时， 就创建了一个引用计数， 当这个对象不再需要时， 也就是说， 这个对象的引用计数变为0 时， 它被垃圾回收。但是回收不是”立即”的， 由解释器在适当的时机，将垃圾对象占用的内存空间回收。</p>
<p>a = 40      # 创建对象  &lt;40&gt;
b = a       # 增加引用， &lt;40&gt; 的计数
c = [b]     # 增加引用.  &lt;40&gt; 的计数</p>
<p>del a       # 减少引用 &lt;40&gt; 的计数
b = 100     # 减少引用 &lt;40&gt; 的计数
c[0] = -1   # 减少引用 &lt;40&gt; 的计数</p>
<p>垃圾回收机制不仅针对引用计数为0的对象，同样也可以处理循环引用的情况。循环引用指的是，两个对象相互引用，但是没有其他变量引用他们。这种情况下，仅使用引用计数是不够的。Python 的垃圾收集器实际上是一个引用计数器和一个循环垃圾收集器。作为引用计数的补充， 垃圾收集器也会留心被分配的总量很大（及未通过引用计数销毁的那些）的对象。 在这种情况下， 解释器会暂停下来， 试图清理所有未引用的循环。
实例</p>
</div>
<div class="section" id="del">
<h3><span class="section-number">3.10. </span>__del__<a class="headerlink" href="#del" title="Permalink to this headline">¶</a></h3>
<p>析构函数 __del__ ，__del__在对象销毁的时候被调用，当对象不再被使用时，__del__方法运行：</p>
<p>实例</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="k">class</span> <span class="nc">Point</span><span class="p">:</span>
   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span> <span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
   <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="n">class_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
      <span class="nb">print</span> <span class="n">class_name</span><span class="p">,</span> <span class="s2">&quot;销毁&quot;</span>

<span class="n">pt1</span> <span class="o">=</span> <span class="n">Point</span><span class="p">()</span>
<span class="n">pt2</span> <span class="o">=</span> <span class="n">pt1</span>
<span class="n">pt3</span> <span class="o">=</span> <span class="n">pt1</span>
<span class="nb">print</span> <span class="nb">id</span><span class="p">(</span><span class="n">pt1</span><span class="p">),</span> <span class="nb">id</span><span class="p">(</span><span class="n">pt2</span><span class="p">),</span> <span class="nb">id</span><span class="p">(</span><span class="n">pt3</span><span class="p">)</span> <span class="c1"># 打印对象的id</span>
<span class="k">del</span> <span class="n">pt1</span>
<span class="k">del</span> <span class="n">pt2</span>
<span class="k">del</span> <span class="n">pt3</span>
</pre></div>
</div>
<p>以上实例运行结果如下：</p>
<p>3083401324 3083401324 3083401324</p>
<p>Point 销毁</p>
<p>注意：通常你需要在单独的文件中定义一个类，</p>
</div>
<div class="section" id="id8">
<h3><span class="section-number">3.11. </span>类的继承<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>面向对象的编程带来的主要好处之一是代码的重用，实现这种重用的方法之一是通过继承机制。
通过继承创建的新类称为子类或派生类，被继承的类称为基类、父类或超类。</p>
<p>继承语法</p>
<dl class="simple">
<dt>class 派生类名(基类名)</dt><dd><p>…</p>
</dd>
</dl>
<p>在python中继承中的一些特点：</p>
<ol class="arabic simple">
<li><p>如果在子类中需要父类的构造方法就需要显示的调用父类的构造方法，或者不重写父类的构造方法。详细说明可查看：python 子类继承父类构造函数说明。</p></li>
<li><p>在调用基类的方法时，需要加上基类的类名前缀，且需要带上 self 参数变量。区别在于类中调用普通函数时并不需要带上 self 参数</p></li>
<li><p>Python 总是首先查找对应类型的方法，如果它不能在派生类中找到对应的方法，它才开始到基类中逐个查找。（先在本类中查找调用的方法，找不到才去基类中找）。</p></li>
</ol>
<p>如果在继承元组中列了一个以上的类，那么它就被称作”多重继承” 。</p>
<p>语法：</p>
<p>派生类的声明，与他们的父类类似，继承的基类列表跟在类名之后，如下所示：</p>
<dl class="simple">
<dt>class SubClassName (ParentClass1[, ParentClass2, …]):</dt><dd><p>…</p>
</dd>
</dl>
<p>实例</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="k">class</span> <span class="nc">Parent</span><span class="p">:</span>        <span class="c1"># 定义父类</span>
   <span class="n">parentAttr</span> <span class="o">=</span> <span class="mi">100</span>
   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="nb">print</span> <span class="s2">&quot;调用父类构造函数&quot;</span>

   <span class="k">def</span> <span class="nf">parentMethod</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="nb">print</span> <span class="s1">&#39;调用父类方法&#39;</span>

   <span class="k">def</span> <span class="nf">setAttr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
      <span class="n">Parent</span><span class="o">.</span><span class="n">parentAttr</span> <span class="o">=</span> <span class="n">attr</span>

   <span class="k">def</span> <span class="nf">getAttr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="nb">print</span> <span class="s2">&quot;父类属性 :&quot;</span><span class="p">,</span> <span class="n">Parent</span><span class="o">.</span><span class="n">parentAttr</span>

<span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span> <span class="c1"># 定义子类</span>
   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="nb">print</span> <span class="s2">&quot;调用子类构造方法&quot;</span>

   <span class="k">def</span> <span class="nf">childMethod</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="nb">print</span> <span class="s1">&#39;调用子类方法&#39;</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">Child</span><span class="p">()</span>          <span class="c1"># 实例化子类</span>
<span class="n">c</span><span class="o">.</span><span class="n">childMethod</span><span class="p">()</span>      <span class="c1"># 调用子类的方法</span>
<span class="n">c</span><span class="o">.</span><span class="n">parentMethod</span><span class="p">()</span>     <span class="c1"># 调用父类方法</span>
<span class="n">c</span><span class="o">.</span><span class="n">setAttr</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>       <span class="c1"># 再次调用父类的方法 - 设置属性值</span>
<span class="n">c</span><span class="o">.</span><span class="n">getAttr</span><span class="p">()</span>          <span class="c1"># 再次调用父类的方法 - 获取属性值</span>
</pre></div>
</div>
<p>以上代码执行结果如下：
* 调用子类构造方法
* 调用子类方法
* 调用父类方法
* 父类属性 : 200</p>
<p>你可以继承多个类</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>        <span class="c1"># 定义类 A</span>
<span class="o">.....</span>

<span class="k">class</span> <span class="nc">B</span><span class="p">:</span>         <span class="c1"># 定义类 B</span>
<span class="o">.....</span>

<span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span>   <span class="c1"># 继承类 A 和 B</span>
<span class="o">.....</span>
</pre></div>
</div>
<p>你可以使用issubclass()或者isinstance()方法来检测。
issubclass() - 布尔函数判断一个类是另一个类的子类或者子孙类，语法：issubclass(sub,sup)
isinstance(obj, Class) 布尔函数如果obj是Class类的实例对象或者是一个Class子类的实例对象则返回true。</p>
</div>
<div class="section" id="id9">
<h3><span class="section-number">3.12. </span>方法重写<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>如果你的父类方法的功能不能满足你的需求，你可以在子类重写你父类的方法：
实例：</p>
<blockquote>
<div><p>#!/usr/bin/python
# -<em>- coding: UTF-8 -</em>-</p>
<dl class="simple">
<dt>class Parent:        # 定义父类</dt><dd><dl class="simple">
<dt>def myMethod(self):</dt><dd><p>print ‘调用父类方法’</p>
</dd>
</dl>
</dd>
<dt>class Child(Parent): # 定义子类</dt><dd><dl class="simple">
<dt>def myMethod(self):</dt><dd><p>print ‘调用子类方法’</p>
</dd>
</dl>
</dd>
</dl>
<p>c = Child()          # 子类实例
c.myMethod()         # 子类调用重写方法</p>
</div></blockquote>
<p>执行以上代码输出结果如下：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">调用子类方法</span>
<span class="n">基础重载方法</span>
</pre></div>
</div>
<p>下表列出了一些通用的功能，你可以在自己的类重写：
序号
方法, 描述 &amp; 简单的调用</p>
<p>1
__init__ ( self [,args…] )
构造函数
简单的调用方法: obj = className(args)</p>
<p>2
__del__( self )
析构方法, 删除一个对象
简单的调用方法 : del obj</p>
<p>3
__repr__( self )
转化为供解释器读取的形式
简单的调用方法 : repr(obj)</p>
<p>4
__str__( self )
用于将值转化为适于人阅读的形式
简单的调用方法 : str(obj)</p>
<p>5
__cmp__ ( self, x )
对象比较
简单的调用方法 : cmp(obj, x)</p>
</div>
<div class="section" id="id10">
<h3><span class="section-number">3.13. </span>运算符重载<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>Python同样支持运算符重载，实例如下：
实例</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>

<span class="k">class</span> <span class="nc">Vector</span><span class="p">:</span>
   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="n">b</span>

   <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">return</span> <span class="s1">&#39;Vector (</span><span class="si">%d</span><span class="s1">, </span><span class="si">%d</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="p">)</span>

   <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">other</span><span class="p">):</span>
      <span class="k">return</span> <span class="n">Vector</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">b</span><span class="p">)</span>

<span class="n">v1</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">v2</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span> <span class="n">v1</span> <span class="o">+</span> <span class="n">v2</span>
</pre></div>
</div>
<p>以上代码执行结果如下所示:
Vector(7,8)</p>
</div>
<div class="section" id="id11">
<h3><span class="section-number">3.14. </span>类属性与方法<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id12">
<h4><span class="section-number">3.14.1. </span>类的私有属性<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h4>
<p>__private_attrs：两个下划线开头，声明该属性为私有，不能在类的外部被使用或直接访问。在类内部的方法中使用时 self.__private_attrs。</p>
</div>
<div class="section" id="id13">
<h4><span class="section-number">3.14.2. </span>类的方法<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<p>在类的内部，使用def关键字可以为类定义一个方法，与一般函数定义不同，类方法必须包含参数 self,且为第一个参数</p>
</div>
<div class="section" id="id14">
<h4><span class="section-number">3.14.3. </span>类的私有方法<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<p>__private_method：两个下划线开头，声明该方法为私有方法，不能在类的外部调用。在类的内部调用 self.__private_methods</p>
<p>实例</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="k">class</span> <span class="nc">JustCounter</span><span class="p">:</span>
    <span class="n">__secretCount</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># 私有变量</span>
    <span class="n">publicCount</span> <span class="o">=</span> <span class="mi">0</span>    <span class="c1"># 公开变量</span>

    <span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__secretCount</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">publicCount</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="nb">print</span> <span class="bp">self</span><span class="o">.</span><span class="n">__secretCount</span>

<span class="n">counter</span> <span class="o">=</span> <span class="n">JustCounter</span><span class="p">()</span>
<span class="n">counter</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">counter</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="nb">print</span> <span class="n">counter</span><span class="o">.</span><span class="n">publicCount</span>
<span class="nb">print</span> <span class="n">counter</span><span class="o">.</span><span class="n">__secretCount</span>  <span class="c1"># 报错，实例不能访问私有变量</span>
</pre></div>
</div>
<p>Python 通过改变名称来包含类名:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;test.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">17</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="nb">print</span> <span class="n">counter</span><span class="o">.</span><span class="n">__secretCount</span>  <span class="c1"># 报错，实例不能访问私有变量</span>
<span class="ne">AttributeError</span><span class="p">:</span> <span class="n">JustCounter</span> <span class="n">instance</span> <span class="n">has</span> <span class="n">no</span> <span class="n">attribute</span> <span class="s1">&#39;__secretCount&#39;</span>
</pre></div>
</div>
<p>Python不允许实例化的类访问私有数据，但你可以使用 object._className__attrName（ 对象名._类名__私有属性名 ）访问属性，参考以下实例：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="k">class</span> <span class="nc">Runoob</span><span class="p">:</span>
    <span class="n">__site</span> <span class="o">=</span> <span class="s2">&quot;www.runoob.com&quot;</span>

<span class="n">runoob</span> <span class="o">=</span> <span class="n">Runoob</span><span class="p">()</span>
<span class="nb">print</span> <span class="n">runoob</span><span class="o">.</span><span class="n">_Runoob__site</span>
</pre></div>
</div>
<p>执行以上代码，执行结果如下：
www.runoob.com</p>
</div>
</div>
<div class="section" id="id15">
<h3><span class="section-number">3.15. </span>单下划线、双下划线、头尾双下划线说明：<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>__foo__: 定义的是特殊方法，一般是系统定义名字 ，类似 __init__() 之类的。</p></li>
<li><p>_foo: 以单下划线开头的表示的是 protected 类型的变量，即保护类型只能允许其本身与子类进行访问，不能用于 from module import *</p></li>
<li><p>__foo: 双下划线的表示的是私有类型(private)的变量, 只能是允许这个类本身进行访问了。</p></li>
</ul>
</div>
<div class="section" id="python-i-o">
<h3><span class="section-number">3.16. </span>Python 文件I/O<a class="headerlink" href="#python-i-o" title="Permalink to this headline">¶</a></h3>
<p>本章只讲述所有基本的 I/O 函数，更多函数请参考Python标准文档。</p>
<p>打印到屏幕</p>
<p>最简单的输出方法是用print语句，你可以给它传递零个或多个用逗号隔开的表达式。
此函数把你传递的表达式转换成一个字符串表达式，并将结果写到标准输出如下：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="nb">print</span> <span class="s2">&quot;Python 是一个非常棒的语言，不是吗？&quot;</span>
</pre></div>
</div>
<p>你的标准屏幕上会产生以下结果：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Python 是一个非常棒的语言，不是吗？
</pre></div>
</div>
<div class="section" id="id16">
<h4><span class="section-number">3.16.1. </span>读取键盘输入<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<p>Python提供了两个内置函数从标准输入读入一行文本，默认的标准输入是键盘。
如下：</p>
<p>raw_input</p>
<p>input</p>
<p>raw_input函数</p>
<p>raw_input([prompt]) 函数从标准输入读取一个行，并返回一个字符串
（去掉结尾的换行符）：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="nb">str</span> <span class="o">=</span> <span class="n">raw_input</span><span class="p">(</span><span class="s2">&quot;请输入：&quot;</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">&quot;你输入的内容是: &quot;</span><span class="p">,</span> <span class="nb">str</span>
</pre></div>
</div>
<p>这将提示你输入任意字符串，然后在屏幕上显示相同的字符串。
当我输入”Hello Python！”，它的输出如下：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>请输入：Hello Python！
你输入的内容是:  Hello Python！
</pre></div>
</div>
</div>
<div class="section" id="input">
<h4><span class="section-number">3.16.2. </span>input函数<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p>input([prompt]) 函数和 raw_input([prompt]) 函数基本类似，
但是 input 可以接收一个Python表达式作为输入，并将运算结果返回。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="nb">str</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;请输入：&quot;</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">&quot;你输入的内容是: &quot;</span><span class="p">,</span> <span class="nb">str</span>
</pre></div>
</div>
<p>这会产生如下的对应着输入的结果：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>请输入：[x*5 for x in range(2,10,2)]
你输入的内容是:  [10, 20, 30, 40]
</pre></div>
</div>
</div>
<div class="section" id="id17">
<h4><span class="section-number">3.16.3. </span>打开和关闭文件<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h4>
<p>现在，您已经可以向标准输入和输出进行读写。现在，来看看怎么读写实际的数据文件。</p>
<p>Python 提供了必要的函数和方法进行默认情况下的文件基本操作。你可以用file对象做大部分的文件操作。</p>
</div>
<div class="section" id="open">
<h4><span class="section-number">3.16.4. </span>open 函数<a class="headerlink" href="#open" title="Permalink to this headline">¶</a></h4>
<p>你必须先用Python内置的open()函数打开一个文件，创建一个file对象，相关的方法才可以调用它进行读写。</p>
<p>语法：</p>
<p>file object = open(file_name [, access_mode][, buffering])</p>
<p>各个参数的细节如下：</p>
<ul class="simple">
<li><p>file_name：file_name变量是一个包含了你要访问的文件名称的字符串值。</p></li>
<li><p>access_mode：access_mode决定了打开文件的模式：只读，写入，追加等。所有可取值见如下的完全列表。这个参数是非强制的，默认文件访问模式为只读(r)。</p></li>
<li><p>buffering:如果buffering的值被设为0，就不会有寄存。如果buffering的值取1，访问文件时会寄存行。如果将buffering的值设为大于1的整数，表明了这就是的寄存区的缓冲大小。如果取负值，寄存区的缓冲大小则为系统默认。</p></li>
</ul>
<p>不同模式打开文件的完全列表：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>模式
描述
t
文本模式 (默认)。
x
写模式，新建一个文件，如果该文件已存在则会报错。
b
二进制模式。
+
打开一个文件进行更新(可读可写)。
U
通用换行模式（不推荐）。
r
以只读方式打开文件。文件的指针将会放在文件的开头。这是默认模式。
rb
以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。这是默认模式。一般用于非文本文件如图片等。
r+
打开一个文件用于读写。文件指针将会放在文件的开头。
rb+
以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头。一般用于非文本文件如图片等。
w
打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。
wb
以二进制格式打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。
w+
打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。
wb+
以二进制格式打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。
a
打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。
ab
以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。
a+
打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。
ab+
以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。如果该文件不存在，创建新文件用于读写。
下图很好的总结了这几种模式：
</pre></div>
</div>
</div>
<div class="section" id="file">
<h4><span class="section-number">3.16.5. </span>File对象的属性<a class="headerlink" href="#file" title="Permalink to this headline">¶</a></h4>
<p>一个文件被打开后，你有一个file对象，你可以得到有关该文件的各种信息。
以下是和file对象相关的所有属性的列表：</p>
<p>属性
描述</p>
<p>file.closed
返回true如果文件已被关闭，否则返回false。</p>
<p>file.mode
返回被打开文件的访问模式。</p>
<p>file.name
返回文件的名称。</p>
<p>file.softspace
如果用print输出后，必须跟一个空格符，则返回false。否则返回true。</p>
<p>如下实例：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="c1"># 打开一个文件</span>
<span class="n">fo</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;foo.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">&quot;文件名: &quot;</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">name</span>
<span class="nb">print</span> <span class="s2">&quot;是否已关闭 : &quot;</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">closed</span>
<span class="nb">print</span> <span class="s2">&quot;访问模式 : &quot;</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">mode</span>
<span class="nb">print</span> <span class="s2">&quot;末尾是否强制加空格 : &quot;</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">softspace</span>
</pre></div>
</div>
<p>以上实例输出结果：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">文件名</span><span class="p">:</span>  <span class="n">foo</span><span class="o">.</span><span class="n">txt</span>
<span class="n">是否已关闭</span> <span class="p">:</span>  <span class="kc">False</span>
<span class="n">访问模式</span> <span class="p">:</span>  <span class="n">w</span>
<span class="n">末尾是否强制加空格</span> <span class="p">:</span>  <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="close">
<h4><span class="section-number">3.16.6. </span>close()方法<a class="headerlink" href="#close" title="Permalink to this headline">¶</a></h4>
<p>File 对象的 close（）方法刷新缓冲区里任何还没写入的信息，并关闭该文件，这之后便不能再进行写入。
当一个文件对象的引用被重新指定给另一个文件时，Python会关闭之前的文件。用 close（）方法关闭文件是一个很好的习惯。</p>
<p>语法：</p>
<p>fileObject.close()</p>
<p>例子：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="c1"># 打开一个文件</span>
<span class="n">fo</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;foo.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">&quot;文件名: &quot;</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">name</span>

<span class="c1"># 关闭打开的文件</span>
<span class="n">fo</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>以上实例输出结果：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">文件名</span><span class="p">:</span>  <span class="n">foo</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>读写文件：</p>
<p>file对象提供了一系列方法，能让我们的文件访问更轻松。来看看如何使用read()和write()方法来读取和写入文件。</p>
</div>
<div class="section" id="write">
<h4><span class="section-number">3.16.7. </span>write()方法<a class="headerlink" href="#write" title="Permalink to this headline">¶</a></h4>
<p>write()方法可将任何字符串写入一个打开的文件。需要重点注意的是，Python字符串可以是二进制数据，而不是仅仅是文字。</p>
<p>write()方法不会在字符串的结尾添加换行符(‘n’)：</p>
<p>语法：</p>
<p><strong>fileObject.write(string)</strong></p>
<p>在这里，被传递的参数是要写入到已打开文件的内容。</p>
<p>例子：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="c1"># 打开一个文件</span>
<span class="n">fo</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;foo.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="n">fo</span><span class="o">.</span><span class="n">write</span><span class="p">(</span> <span class="s2">&quot;www.runoob.com!</span><span class="se">\n</span><span class="s2">Very good site!</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># 关闭打开的文件</span>
<span class="n">fo</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>上述方法会创建foo.txt文件，并将收到的内容写入该文件，并最终关闭文件。如果你打开这个文件，将看到以下内容:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cat foo.txt
www.runoob.com!
Very good site!
</pre></div>
</div>
</div>
<div class="section" id="read">
<h4><span class="section-number">3.16.8. </span>read()方法<a class="headerlink" href="#read" title="Permalink to this headline">¶</a></h4>
<p>read（）方法从一个打开的文件中读取一个字符串。需要重点注意的是，Python字符串可以是二进制数据，而不是仅仅是文字。</p>
<p>语法：</p>
<p><strong>fileObject.read([count])</strong></p>
<p>在这里，被传递的参数是要从已打开文件中读取的字节计数。该方法从文件的开头开始读入，如果没有传入count，它会尝试尽可能多地读取更多的内容，很可能是直到文件的末尾。</p>
<p>例子：</p>
<p>这里我们用到以上创建的 foo.txt 文件。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="c1"># 打开一个文件</span>
<span class="n">fo</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;foo.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r+&quot;</span><span class="p">)</span>
<span class="nb">str</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">&quot;读取的字符串是 : &quot;</span><span class="p">,</span> <span class="nb">str</span>
<span class="c1"># 关闭打开的文件</span>
<span class="n">fo</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>以上实例输出结果：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">读取的字符串是</span> <span class="p">:</span>  <span class="n">www</span><span class="o">.</span><span class="n">runoob</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id18">
<h3><span class="section-number">3.17. </span>文件位置：<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id19">
<h4><span class="section-number">3.17.1. </span>文件定位<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h4>
<p>tell()方法告诉你文件内的当前位置, 换句话说，下一次的读写会发生在文件开头这么多字节之后。
seek（offset [,from]）方法改变当前文件的位置。Offset变量表示要移动的字节数。From变量指定开始移动字节的参考位置。</p>
<p>如果from被设为0，这意味着将文件的开头作为移动字节的参考位置。如果设为1，则使用当前的位置作为参考位置。如果它被设为2，那么该文件的末尾将作为参考位置。</p>
<p>例子：</p>
<p>就用我们上面创建的文件foo.txt。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="c1"># 打开一个文件</span>
<span class="n">fo</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;foo.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r+&quot;</span><span class="p">)</span>
<span class="nb">str</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">&quot;读取的字符串是 : &quot;</span><span class="p">,</span> <span class="nb">str</span>

<span class="c1"># 查找当前位置</span>
<span class="n">position</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>
<span class="nb">print</span> <span class="s2">&quot;当前文件位置 : &quot;</span><span class="p">,</span> <span class="n">position</span>

<span class="c1"># 把指针再次重新定位到文件开头</span>
<span class="n">position</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="nb">str</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">&quot;重新读取字符串 : &quot;</span><span class="p">,</span> <span class="nb">str</span>
<span class="c1"># 关闭打开的文件</span>
<span class="n">fo</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>以上实例输出结果：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">读取的字符串是</span> <span class="p">:</span>  <span class="n">www</span><span class="o">.</span><span class="n">runoob</span>
<span class="n">当前文件位置</span> <span class="p">:</span>  <span class="mi">10</span>
<span class="n">重新读取字符串</span> <span class="p">:</span>  <span class="n">www</span><span class="o">.</span><span class="n">runoob</span>
</pre></div>
</div>
</div>
<div class="section" id="id20">
<h4><span class="section-number">3.17.2. </span>重命名和删除文件<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h4>
<p>Python的os模块提供了帮你执行文件处理操作的方法，比如重命名和删除文件。
要使用这个模块，你必须先导入它，然后才可以调用相关的各种功能。</p>
<p><strong>rename()方法:</strong></p>
<p>rename()方法需要两个参数，当前的文件名和新文件名。</p>
<p>语法：</p>
<p>os.rename(current_file_name, new_file_name)</p>
<p>例子：</p>
<p>下例将重命名一个已经存在的文件test1.txt。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># 重命名文件test1.txt到test2.txt。</span>
<span class="n">os</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span> <span class="s2">&quot;test1.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;test2.txt&quot;</span> <span class="p">)</span>
</pre></div>
</div>
<p><strong>remove()方法</strong></p>
<p>你可以用remove()方法删除文件，需要提供要删除的文件名作为参数。</p>
<p>语法：</p>
<p>os.remove(file_name)</p>
<p>例子：</p>
<p>下例将删除一个已经存在的文件test2.txt。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># 删除一个已经存在的文件test2.txt</span>
<span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&quot;test2.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id21">
<h4><span class="section-number">3.17.3. </span>Python里的目录：<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h4>
<p>所有文件都包含在各个不同的目录下，不过Python也能轻松处理。os模块有许多方法能帮你创建，删除和更改目录。</p>
<p><strong>mkdir()方法</strong></p>
<p>可以使用os模块的mkdir()方法在当前目录下创建新的目录们。你需要提供一个包含了要创建的目录名称的参数。</p>
<p>语法：</p>
<p>os.mkdir(“newdir”)</p>
<p>例子：</p>
<p>下例将在当前目录下创建一个新目录test。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># 创建目录test</span>
<span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>chdir()方法</strong></p>
<p>可以用chdir()方法来改变当前的目录。chdir()方法需要的一个参数是你想设成当前目录的目录名称。</p>
<p>语法：</p>
<p>os.chdir(“newdir”)</p>
<p>例子：</p>
<p>下例将进入”/home/newdir”目录。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># 将当前目录改为&quot;/home/newdir&quot;</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s2">&quot;/home/newdir&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>getcwd()方法:</strong></p>
<p>getcwd()方法显示当前的工作目录。</p>
<p>语法：</p>
<p>os.getcwd()</p>
<p>例子：
下例给出当前目录：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># 给出当前的目录</span>
<span class="nb">print</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>rmdir()方法</strong></p>
<p>rmdir()方法删除目录，目录名称以参数传递。
在删除这个目录之前，它的所有内容应该先被清除。</p>
<p>语法：</p>
<p>os.rmdir(‘dirname’)</p>
<p>例子：
以下是删除” /tmp/test”目录的例子。目录的完全合规的名称必须被给出，否则会在当前目录下搜索该目录。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># 删除”/tmp/test”目录</span>
<span class="n">os</span><span class="o">.</span><span class="n">rmdir</span><span class="p">(</span> <span class="s2">&quot;/tmp/test&quot;</span>  <span class="p">)</span>
</pre></div>
</div>
<p><strong>文件、目录相关的方法</strong></p>
<p>File 对象和 OS 对象提供了很多文件与目录的操作方法，可以通过点击下面链接查看详情：</p>
<p>File 对象方法: file 对象提供了操作文件的一系列方法。</p>
<p>OS 对象方法: 提供了处理文件及目录的一系列方法。</p>
</div>
</div>
<div class="section" id="hello-worldsample-txt">
<h3><span class="section-number">3.18. </span>把Hello world写入sample.txt<a class="headerlink" href="#hello-worldsample-txt" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;Hello world</span><span class="se">\n</span><span class="s1">文本文件的读取方法、文本文件的写入方法</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;sample.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;gbk&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>  <span class="c1"># 使用gbk编码</span>
    <span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">s</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)</span>
<span class="c1"># 生成的文件放在.py文件所在文件夹</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;sample.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="section" id="gbkutf-8">
<h3><span class="section-number">3.19. </span>gbk文件转UTF-8<a class="headerlink" href="#gbkutf-8" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 将一个gbk编码格式的文本文件中的内容全部复制到另一个使用UTF-8编码的文本文件中</span>
<span class="k">def</span> <span class="nf">filecopy</span><span class="p">(</span><span class="n">srcc</span><span class="p">,</span> <span class="n">dstt</span><span class="p">,</span> <span class="n">srccEncoding</span><span class="p">,</span> <span class="n">dsttEncoding</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">srcc</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">srccEncoding</span><span class="p">)</span> <span class="k">as</span> <span class="n">srcfp</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">dstt</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">dsttEncoding</span><span class="p">)</span> <span class="k">as</span> <span class="n">dstfp</span><span class="p">:</span>
            <span class="n">dstfp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">srcfp</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>


<span class="n">filecopy</span><span class="p">(</span><span class="s1">&#39;sample.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;sample_new.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;gbk&#39;</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">)</span>

<span class="c1"># 读取这两个文件</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;sample.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>  <span class="c1"># 默认为CP936编码</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="nb">print</span><span class="p">()</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;sample_new.txt&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>  <span class="c1"># 如果是其他编码需要有(encoding = )</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="section" id="simple-txt">
<h3><span class="section-number">3.20. </span>遍历simple.txt中的所有行<a class="headerlink" href="#simple-txt" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;sample.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fp</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="split">
<h3><span class="section-number">3.21. </span>split()对字符串切片<a class="headerlink" href="#split" title="Permalink to this headline">¶</a></h3>
<p>语法:</p>
<p><strong>str.split(str=””, num=string.count(str)).</strong></p>
<p>如果参数 num 有指定值，则分隔 num+1 个子字符串</p>
<p>参数:</p>
<ul class="simple">
<li><p>str – 分隔符，默认为所有的空字符，包括空格、换行(n)、制表符(t)等。</p></li>
<li><p>num – 分割次数。默认为 -1, 即分隔所有。</p></li>
</ul>
<p>返回值:</p>
<p>返回分割后的字符串列表。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Line1-abcdef </span><span class="se">\n</span><span class="s2">Line2-abc </span><span class="se">\n</span><span class="s2">Line4-abcd&quot;</span><span class="p">;</span>
<span class="nb">print</span> <span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">split</span><span class="p">());</span>  <span class="c1"># 以空格为分隔符，包含 \n</span>
<span class="nb">print</span> <span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>  <span class="c1"># 以空格为分隔符，分隔成两个</span>
</pre></div>
</div>
<p>输出：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;Line1-abcdef&#39;</span><span class="p">,</span> <span class="s1">&#39;Line2-abc&#39;</span><span class="p">,</span> <span class="s1">&#39;Line4-abcd&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;Line1-abcdef&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Line2-abc </span><span class="se">\n</span><span class="s1">Line4-abcd&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="n">txt</span> <span class="o">=</span> <span class="s2">&quot;Google#Runoob#Taobao#Facebook&quot;</span>

<span class="c1"># 第二个参数为 1，返回两个参数列表</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">txt</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="nb">print</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>输出：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;Google&#39;</span><span class="p">,</span> <span class="s1">&#39;Runoob#Taobao#Facebook&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="list">
<h3><span class="section-number">3.22. </span>list()元组转换列表<a class="headerlink" href="#list" title="Permalink to this headline">¶</a></h3>
<p><strong>描述</strong></p>
<p>list() 方法用于将元组转换为列表。</p>
<p>注：元组与列表是非常类似的，区别在于元组的元素值不能修改，元组是放在括号中，列表是放于方括号中。</p>
<p><strong>语法</strong></p>
<p>list()方法语法：</p>
<p>list( tup )</p>
<p><strong>参数</strong></p>
<p>tup – 要转换为列表的元组。</p>
<p><strong>返回值</strong></p>
<p>返回列表。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="n">aTuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s1">&#39;xyz&#39;</span><span class="p">,</span> <span class="s1">&#39;zara&#39;</span><span class="p">,</span> <span class="s1">&#39;abc&#39;</span><span class="p">);</span>
<span class="n">aList</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">aTuple</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;列表元素 : &quot;</span><span class="p">,</span> <span class="n">aList</span><span class="p">)</span>
</pre></div>
</div>
<p>结果：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">列表元素</span> <span class="p">:</span>  <span class="p">[</span><span class="mi">123</span><span class="p">,</span> <span class="s1">&#39;xyz&#39;</span><span class="p">,</span> <span class="s1">&#39;zara&#39;</span><span class="p">,</span> <span class="s1">&#39;abc&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>打开显示每一行</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">L</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;A01 CAN communication DBC_OBC_Release_V1.7_20170606.dbc&#39;</span><span class="p">))</span> <span class="c1">#文件中的每一行都是列表的一个元素</span>

<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">L</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<p>结果：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VAL_</span> <span class="mi">1036</span> <span class="n">BCM_SleepCommand</span> <span class="mi">1</span> <span class="s2">&quot;Active&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Inactive&quot;</span> <span class="p">;</span>
</pre></div>
</div>
<p>每行以空格切片显示</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">L</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;A01 CAN communication DBC_OBC_Release_V1.7_20170606.dbc&#39;</span><span class="p">))</span> <span class="c1">#文件中的每一行都是列表的一个元素</span>

<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">L</span><span class="p">:</span>
    <span class="n">x</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>结果：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;VAL_&#39;</span><span class="p">,</span> <span class="s1">&#39;1036&#39;</span><span class="p">,</span> <span class="s1">&#39;BCM_SleepCommand&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;Active&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;Inactive&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;;&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="bo-level-dbc-txt">
<h3><span class="section-number">3.23. </span>检索文件中BO行，导入到level_dbc.txt文件中<a class="headerlink" href="#bo-level-dbc-txt" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">L</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;A01 CAN communication DBC_OBC_Release_V1.7_20170606.dbc&#39;</span><span class="p">))</span> <span class="c1">#文件中的每一行都是列表的一个元素</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;level_dbc.txt&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>   <span class="c1">#新建level文件写入</span>

<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">L</span><span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="c1">#当前行切片</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)):</span> <span class="c1">#当前行切片数</span>
        <span class="k">if</span> <span class="s2">&quot;BO_&quot;</span> <span class="ow">in</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="c1">#判断字符串中是否有BO_</span>
            <span class="c1"># print(x)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
            <span class="k">break</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">f</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;level_dbc.txt&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
<p>结果：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="n">BO_TX_BU_</span>
        <span class="n">BU_BO_REL_</span>
<span class="n">BO_</span> <span class="mi">1036</span> <span class="n">BCM_NM</span><span class="p">:</span> <span class="mi">8</span> <span class="n">BCM</span>
<span class="n">BO_</span> <span class="mi">1050</span> <span class="n">OBC_NM</span><span class="p">:</span> <span class="mi">8</span> <span class="n">OBC</span>
<span class="n">BO_</span> <span class="mi">1562</span> <span class="n">OBC_Diagnosis</span><span class="p">:</span> <span class="mi">8</span> <span class="n">OBC</span>
<span class="n">BO_</span> <span class="mi">2003</span> <span class="n">TEST_OBC_DiagReq</span><span class="p">:</span> <span class="mi">8</span> <span class="n">TESTER</span>
<span class="n">BO_</span> <span class="mi">2011</span> <span class="n">OBC_DiagResp</span><span class="p">:</span> <span class="mi">8</span> <span class="n">OBC</span>
<span class="n">BO_</span> <span class="mi">2015</span> <span class="n">TEST_Func_DiagReq</span><span class="p">:</span> <span class="mi">8</span> <span class="n">TESTER</span>
<span class="n">BO_</span> <span class="mi">530</span> <span class="n">BCM_LightStatus</span><span class="p">:</span> <span class="mi">8</span> <span class="n">BCM</span>
<span class="n">BO_</span> <span class="mi">784</span> <span class="n">VCU_DisplayInfo</span><span class="p">:</span> <span class="mi">8</span> <span class="n">VCU</span>
<span class="n">BO_</span> <span class="mi">791</span> <span class="n">BCU_ChargeControl</span><span class="p">:</span> <span class="mi">8</span> <span class="n">BCU</span>
<span class="n">BO_</span> <span class="mi">796</span> <span class="n">BCU_StatusIndication</span><span class="p">:</span> <span class="mi">8</span> <span class="n">BCU</span>
<span class="n">BO_</span> <span class="mi">852</span> <span class="n">OBC_CurrentStatus</span><span class="p">:</span> <span class="mi">8</span> <span class="n">OBC</span>
</pre></div>
</div>
<p><a class="reference external" href="https://www.cnblogs.com/jiaxinwei/p/11624265.html">https://www.cnblogs.com/jiaxinwei/p/11624265.html</a></p>
<p><a class="reference external" href="https://www.runoob.com/python/python-files-io.html">https://www.runoob.com/python/python-files-io.html</a></p>
<p><a class="reference external" href="https://www.runoob.com/python/att-string-split.html">https://www.runoob.com/python/att-string-split.html</a></p>
<p><a class="reference external" href="https://www.runoob.com/python/att-list-list.html">https://www.runoob.com/python/att-list-list.html</a></p>
<p><a class="reference external" href="https://www.runoob.com/python3/python3-check-string.html">https://www.runoob.com/python3/python3-check-string.html</a></p>
<p><a class="reference external" href="https://blog.csdn.net/liagn/article/details/80449313">https://blog.csdn.net/liagn/article/details/80449313</a></p>
<p><a class="reference external" href="https://www.cnblogs.com/gaoyuanyuan/p/10065218.html">https://www.cnblogs.com/gaoyuanyuan/p/10065218.html</a></p>
<p><a class="reference external" href="https://blog.csdn.net/weixin_42342968/article/details/84879071">https://blog.csdn.net/weixin_42342968/article/details/84879071</a></p>
<p><a class="reference external" href="https://www.cnblogs.com/jiyongjia/p/9539024.html">https://www.cnblogs.com/jiyongjia/p/9539024.html</a></p>
<p><a class="reference external" href="https://www.runoob.com/python/python-strings.html">https://www.runoob.com/python/python-strings.html</a></p>
<p><a class="reference external" href="https://www.jb51.net/article/152413.htm">https://www.jb51.net/article/152413.htm</a></p>
<p><a class="reference external" href="https://blog.csdn.net/qq_24833271/article/details/90711297">https://blog.csdn.net/qq_24833271/article/details/90711297</a></p>
<p><a class="reference external" href="https://bbs.csdn.net/topics/392364068?page=1">https://bbs.csdn.net/topics/392364068?page=1</a></p>
</div>
</div>
<div class="section" id="bo">
<h2><span class="section-number">4. </span>解析BO<a class="headerlink" href="#bo" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">L</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;A01 CAN communication DBC_OBC_Release_V1.7_20170606.dbc&#39;</span><span class="p">))</span> <span class="c1">#文件中的每一行都是列表的一个元素</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;level_dbc.txt&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>   <span class="c1">#新建level文件写入</span>

<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">L</span><span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="c1">#当前行切片</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)):</span> <span class="c1">#当前行切片数</span>
        <span class="k">if</span> <span class="s2">&quot;BO_&quot;</span> <span class="o">==</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="c1">#判断字符串中是否有BO_</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
            <span class="k">break</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">f</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;level_dbc.txt&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
<div class="section" id="python-strip">
<h3><span class="section-number">4.1. </span>Python strip()方法<a class="headerlink" href="#python-strip" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id22">
<h4><span class="section-number">4.1.1. </span>描述<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h4>
<p>Python strip() 方法用于移除字符串头尾指定的字符（默认为空格或换行符）或字符序列。
注意：该方法只能删除开头或是结尾的字符，不能删除中间部分的字符。</p>
</div>
<div class="section" id="id23">
<h4><span class="section-number">4.1.2. </span>语法<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h4>
<p>strip()方法语法：
str.strip([chars]);</p>
</div>
<div class="section" id="id24">
<h4><span class="section-number">4.1.3. </span>参数<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h4>
<p>chars – 移除字符串头尾指定的字符序列。</p>
</div>
<div class="section" id="id25">
<h4><span class="section-number">4.1.4. </span>返回值<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h4>
<p>返回移除字符串头尾指定的字符生成的新字符串。</p>
</div>
<div class="section" id="id26">
<h4><span class="section-number">4.1.5. </span>实例<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h4>
<p>以下实例展示了strip()函数的使用方法：
实例(Python 2.0+)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;00000003210Runoob01230000000&quot;</span><span class="p">;</span>
<span class="nb">print</span> <span class="nb">str</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span> <span class="s1">&#39;0&#39;</span> <span class="p">);</span>  <span class="c1"># 去除首尾字符 0</span>


<span class="n">str2</span> <span class="o">=</span> <span class="s2">&quot;   Runoob      &quot;</span><span class="p">;</span>   <span class="c1"># 去除首尾空格</span>
<span class="nb">print</span> <span class="n">str2</span><span class="o">.</span><span class="n">strip</span><span class="p">();</span>
</pre></div>
</div>
<p>以上实例输出结果如下：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3210</span><span class="n">Runoob0123</span>
<span class="n">Runoob</span>
</pre></div>
</div>
<p>从结果上看，可以注意到中间部分的字符并未删除。
以上下例演示了只要头尾包含有指定字符序列中的字符就删除：</p>
</div>
<div class="section" id="id27">
<h4><span class="section-number">4.1.6. </span>实例<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;123abcrunoob321&quot;</span>
<span class="nb">print</span> <span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span> <span class="s1">&#39;12&#39;</span> <span class="p">))</span>  <span class="c1"># 字符序列为 12</span>
</pre></div>
</div>
<p>以上实例输出结果如下：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span><span class="n">abcrunoob3</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="python-int">
<h3><span class="section-number">4.2. </span>Python int() 函数<a class="headerlink" href="#python-int" title="Permalink to this headline">¶</a></h3>
<p><strong>描述</strong></p>
<p>int() 函数用于将一个字符串或数字转换为整型。</p>
<p><strong>语法</strong></p>
<p>以下是 int() 方法的语法:
class int(x, base=10)</p>
<p><strong>参数</strong></p>
<p>x – 字符串或数字。
base – 进制数，默认十进制。</p>
<p><strong>返回值</strong></p>
<p>返回整型数据。</p>
<p><strong>实例</strong></p>
<p>以下展示了使用 int() 方法的实例：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt;int()               # 不传入参数时，得到结果0</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="mf">3.6</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="s1">&#39;12&#39;</span><span class="p">,</span><span class="mi">16</span><span class="p">)</span>        <span class="c1"># 如果是带参数base的话，12要以字符串的形式进行输入，12 为 16进制</span>
<span class="go">18</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="s1">&#39;0xa&#39;</span><span class="p">,</span><span class="mi">16</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="s1">&#39;10&#39;</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
<span class="go">8</span>
</pre></div>
</div>
</div>
<div class="section" id="id28">
<h3><span class="section-number">4.3. </span>Python 字符串<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<p>字符串是 Python 中最常用的数据类型。我们可以使用引号(‘或”)来创建字符串。
创建字符串很简单，只要为变量分配一个值即可。例如：</p>
<p>var1 = ‘Hello World!’
var2 = “Python Runoob”</p>
</div>
<div class="section" id="id29">
<h3><span class="section-number">4.4. </span>Python 访问字符串中的值<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<p>Python 不支持单字符类型，单字符在 Python 中也是作为一个字符串使用。
Python 访问子字符串，可以使用方括号来截取字符串，如下实例：</p>
<p>实例(Python 2.0+)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>

<span class="n">var1</span> <span class="o">=</span> <span class="s1">&#39;Hello World!&#39;</span>
<span class="n">var2</span> <span class="o">=</span> <span class="s2">&quot;Python Runoob&quot;</span>

<span class="nb">print</span> <span class="s2">&quot;var1[0]: &quot;</span><span class="p">,</span> <span class="n">var1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span> <span class="s2">&quot;var2[1:5]: &quot;</span><span class="p">,</span> <span class="n">var2</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<p>以上实例执行结果：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">var1</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>  <span class="n">H</span>
<span class="n">var2</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="p">]:</span>  <span class="n">ytho</span>
</pre></div>
</div>
</div>
<div class="section" id="id30">
<h3><span class="section-number">4.5. </span>Python 字符串连接<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<p>我们可以对字符串进行截取并与其他字符串进行连接，如下实例：</p>
<p>实例(Python 2.0+)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>

<span class="n">var1</span> <span class="o">=</span> <span class="s1">&#39;Hello World!&#39;</span>

<span class="nb">print</span> <span class="s2">&quot;输出 :- &quot;</span><span class="p">,</span> <span class="n">var1</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;Runoob!&#39;</span>
</pre></div>
</div>
<p>以上实例执行结果</p>
<p>输出 :-  Hello Runoob!</p>
</div>
<div class="section" id="python3-bytes">
<h3><span class="section-number">4.6. </span>Python3 bytes 函数<a class="headerlink" href="#python3-bytes" title="Permalink to this headline">¶</a></h3>
<p><strong>描述</strong></p>
<p>bytes 函数返回一个新的 bytes 对象，该对象是一个 0 &lt;= x &lt; 256 区间内的整数不可变序列。它是 bytearray 的不可变版本。</p>
<p><strong>语法</strong></p>
<p>以下是 bytes 的语法:</p>
<p>class bytes([source[, encoding[, errors]]])</p>
<p><strong>参数</strong></p>
<ul class="simple">
<li><p>如果 source 为整数，则返回一个长度为 source 的初始化数组；</p></li>
<li><p>如果 source 为字符串，则按照指定的 encoding 将字符串转换为字节序列；</p></li>
<li><p>如果 source 为可迭代类型，则元素必须为[0 ,255] 中的整数；</p></li>
<li><p>如果 source 为与 buffer 接口一致的对象，则此对象也可以被用于初始化 bytearray。</p></li>
<li><p>如果没有输入任何参数，默认就是初始化数组为0个元素。</p></li>
</ul>
<p><strong>返回值</strong></p>
<p>返回一个新的 bytes 对象。</p>
<p><strong>实例</strong></p>
<p>以下展示了使用 bytes 的实例：</p>
<p>实例</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt;a = bytes([1,2,3,4])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">b&#39;\x01\x02\x03\x04&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&lt;class &#39;bytes&#39;&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span><span class="s1">&#39;ascii&#39;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">b&#39;hello&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&lt;class &#39;bytes&#39;&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="python-list-insert">
<h3><span class="section-number">4.7. </span>Python List insert()方法<a class="headerlink" href="#python-list-insert" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Python 列表</p>
</div></blockquote>
<p><strong>描述</strong></p>
<p>insert() 函数用于将指定对象插入列表的指定位置。</p>
<p><strong>语法</strong></p>
<p>insert()方法语法：</p>
<p>list.insert(index, obj)</p>
<p><strong>参数</strong></p>
<p>index – 对象 obj 需要插入的索引位置。</p>
<p>obj – 要插入列表中的对象。</p>
<p><strong>返回值</strong></p>
<p>该方法没有返回值，但会在列表指定位置插入对象。</p>
<p><strong>实例</strong></p>
<p>以下实例展示了 insert()函数的使用方法：</p>
<p><strong>实例</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>

<span class="n">aList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">123</span><span class="p">,</span> <span class="s1">&#39;xyz&#39;</span><span class="p">,</span> <span class="s1">&#39;zara&#39;</span><span class="p">,</span> <span class="s1">&#39;abc&#39;</span><span class="p">]</span>

<span class="n">aList</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2009</span><span class="p">)</span>

<span class="nb">print</span> <span class="s2">&quot;Final List : &quot;</span><span class="p">,</span> <span class="n">aList</span>
</pre></div>
</div>
<p>以上实例输出结果如下：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Final</span> <span class="n">List</span> <span class="p">:</span> <span class="p">[</span><span class="mi">123</span><span class="p">,</span> <span class="s1">&#39;xyz&#39;</span><span class="p">,</span> <span class="s1">&#39;zara&#39;</span><span class="p">,</span> <span class="mi">2009</span><span class="p">,</span> <span class="s1">&#39;abc&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Python 列表(List)
序列是Python中最基本的数据结构。序列中的每个元素都分配一个数字 - 它的位置，或索引，第一个索引是0，第二个索引是1，依此类推。
Python有6个序列的内置类型，但最常见的是列表和元组。
序列都可以进行的操作包括索引，切片，加，乘，检查成员。
此外，Python已经内置确定序列的长度以及确定最大和最小的元素的方法。
列表是最常用的Python数据类型，它可以作为一个方括号内的逗号分隔值出现。
列表的数据项不需要具有相同的类型
创建一个列表，只要把逗号分隔的不同的数据项使用方括号括起来即可。如下所示：
list1 = [‘physics’, ‘chemistry’, 1997, 2000]
list2 = [1, 2, 3, 4, 5 ]
list3 = [“a”, “b”, “c”, “d”]
与字符串的索引一样，列表索引从0开始。列表可以进行截取、组合等。</p>
<p>访问列表中的值
使用下标索引来访问列表中的值，同样你也可以使用方括号的形式截取字符，如下所示：
实例(Python 2.0+)
#!/usr/bin/python</p>
<p>list1 = [‘physics’, ‘chemistry’, 1997, 2000]
list2 = [1, 2, 3, 4, 5, 6, 7 ]</p>
<p>print “list1[0]: “, list1[0]
print “list2[1:5]: “, list2[1:5]
以上实例输出结果：
list1[0]:  physics
list2[1:5]:  [2, 3, 4, 5]</p>
<p>更新列表
你可以对列表的数据项进行修改或更新，你也可以使用append()方法来添加列表项，如下所示：
实例(Python 2.0+)
#!/usr/bin/python
# -<em>- coding: UTF-8 -</em>-</p>
<p>list = []          ## 空列表
list.append(‘Google’)   ## 使用 append() 添加元素
list.append(‘Runoob’)
print list
注意：我们会在接下来的章节讨论append()方法的使用
以上实例输出结果：
[‘Google’, ‘Runoob’]</p>
<p>删除列表元素
可以使用 del 语句来删除列表的元素，如下实例：
实例(Python 2.0+)
#!/usr/bin/python</p>
<p>list1 = [‘physics’, ‘chemistry’, 1997, 2000]</p>
<p>print list1
del list1[2]
print “After deleting value at index 2 : ”
print list1
以上实例输出结果：
[‘physics’, ‘chemistry’, 1997, 2000]
After deleting value at index 2 :
[‘physics’, ‘chemistry’, 2000]
注意：我们会在接下来的章节讨论remove()方法的使用</p>
<p>Python 变量类型
变量存储在内存中的值。这就意味着在创建变量时会在内存中开辟一个空间。
基于变量的数据类型，解释器会分配指定内存，并决定什么数据可以被存储在内存中。
因此，变量可以指定不同的数据类型，这些变量可以存储整数，小数或字符。</p>
<p>变量赋值
Python 中的变量赋值不需要类型声明。
每个变量在内存中创建，都包括变量的标识，名称和数据这些信息。
每个变量在使用前都必须赋值，变量赋值以后该变量才会被创建。
等号（=）用来给变量赋值。
等号（=）运算符左边是一个变量名,等号（=）运算符右边是存储在变量中的值。例如：
实例(Python 2.0+)
#!/usr/bin/python
# -<em>- coding: UTF-8 -</em>-</p>
<p>counter = 100 # 赋值整型变量
miles = 1000.0 # 浮点型
name = “John” # 字符串</p>
<p>print counter
print miles
print name</p>
<p>运行实例 »
以上实例中，100，1000.0和”John”分别赋值给counter，miles，name变量。
执行以上程序会输出如下结果：
100
1000.0
John</p>
<p>多个变量赋值
Python允许你同时为多个变量赋值。例如：
a = b = c = 1
以上实例，创建一个整型对象，值为1，三个变量被分配到相同的内存空间上。
您也可以为多个对象指定多个变量。例如：
a, b, c = 1, 2, “john”
以上实例，两个整型对象 1 和 2 分别分配给变量 a 和 b，字符串对象 “john” 分配给变量 c。</p>
<p>标准数据类型
在内存中存储的数据可以有多种类型。
例如，一个人的年龄可以用数字来存储，他的名字可以用字符来存储。
Python 定义了一些标准类型，用于存储各种类型的数据。
Python有五个标准的数据类型：
Numbers（数字）
String（字符串）
List（列表）
Tuple（元组）
Dictionary（字典）</p>
<p>Python数字
数字数据类型用于存储数值。
他们是不可改变的数据类型，这意味着改变数字数据类型会分配一个新的对象。
当你指定一个值时，Number对象就会被创建：
var1 = 1
var2 = 10
您也可以使用del语句删除一些对象的引用。
del语句的语法是：
del var1[,var2[,var3[….,varN]]]]
您可以通过使用del语句删除单个或多个对象的引用。例如：
del var
del var_a, var_b
Python支持四种不同的数字类型：
int（有符号整型）
long（长整型[也可以代表八进制和十六进制]）
float（浮点型）
complex（复数）</p>
<p>Python字符串
字符串或串(String)是由数字、字母、下划线组成的一串字符。
一般记为 :
s=”a1a2···an”(n&gt;=0)
它是编程语言中表示文本的数据类型。
python的字串列表有2种取值顺序:
从左到右索引默认0开始的，最大范围是字符串长度少1
从右到左索引默认-1开始的，最大范围是字符串开头</p>
<p>如果你要实现从字符串中获取一段子字符串的话，可以使用 [头下标:尾下标] 来截取相应的字符串，其中下标是从 0 开始算起，可以是正数或负数，下标可以为空表示取到头或尾。
[头下标:尾下标] 获取的子字符串包含头下标的字符，但不包含尾下标的字符。
比如:
&gt;&gt;&gt; s = ‘abcdef’
&gt;&gt;&gt; s[1:5]
‘bcde’
当使用以冒号分隔的字符串，python 返回一个新的对象，结果包含了以这对偏移标识的连续的内容，左边的开始是包含了下边界。
上面的结果包含了 s[1] 的值 b，而取到的最大范围不包括尾下标，就是 s[5] 的值 f。</p>
<p>加号（+）是字符串连接运算符，星号（*）是重复操作。如下实例：
实例(Python 2.0+)
#!/usr/bin/python
# -<em>- coding: UTF-8 -</em>-</p>
<p>str = ‘Hello World!’</p>
<p>print str           # 输出完整字符串
print str[0]        # 输出字符串中的第一个字符
print str[2:5]      # 输出字符串中第三个至第六个之间的字符串
print str[2:]       # 输出从第三个字符开始的字符串
print str * 2       # 输出字符串两次
print str + “TEST”  # 输出连接的字符串
以上实例输出结果：
Hello World!
H
llo
llo World!
Hello World!Hello World!
Hello World!TEST
Python 列表截取可以接收第三个参数，参数作用是截取的步长，以下实例在索引 1 到索引 4 的位置并设置为步长为 2（间隔一个位置）来截取字符串：</p>
<p>Python列表
List（列表） 是 Python 中使用最频繁的数据类型。
列表可以完成大多数集合类的数据结构实现。它支持字符，数字，字符串甚至可以包含列表（即嵌套）。
列表用 [ ] 标识，是 python 最通用的复合数据类型。
列表中值的切割也可以用到变量 [头下标:尾下标] ，就可以截取相应的列表，从左到右索引默认 0 开始，从右到左索引默认 -1 开始，下标可以为空表示取到头或尾。</p>
<p>加号 + 是列表连接运算符，星号 * 是重复操作。如下实例：
实例(Python 2.0+)
#!/usr/bin/python
# -<em>- coding: UTF-8 -</em>-</p>
<p>list = [ ‘runoob’, 786 , 2.23, ‘john’, 70.2 ]
tinylist = [123, ‘john’]</p>
<p>print list               # 输出完整列表
print list[0]            # 输出列表的第一个元素
print list[1:3]          # 输出第二个至第三个元素
print list[2:]           # 输出从第三个开始至列表末尾的所有元素
print tinylist * 2       # 输出列表两次
print list + tinylist    # 打印组合的列表
以上实例输出结果：</p>
<p>[‘runoob’, 786, 2.23, ‘john’, 70.2]
runoob
[786, 2.23]
[2.23, ‘john’, 70.2]
[123, ‘john’, 123, ‘john’]
[‘runoob’, 786, 2.23, ‘john’, 70.2, 123, ‘john’]</p>
<p>Python 元组
元组是另一个数据类型，类似于 List（列表）。
元组用 () 标识。内部元素用逗号隔开。但是元组不能二次赋值，相当于只读列表。
实例(Python 2.0+)
#!/usr/bin/python
# -<em>- coding: UTF-8 -</em>-</p>
<p>tuple = ( ‘runoob’, 786 , 2.23, ‘john’, 70.2 )
tinytuple = (123, ‘john’)</p>
<p>print tuple               # 输出完整元组
print tuple[0]            # 输出元组的第一个元素
print tuple[1:3]          # 输出第二个至第四个（不包含）的元素
print tuple[2:]           # 输出从第三个开始至列表末尾的所有元素
print tinytuple * 2       # 输出元组两次
print tuple + tinytuple   # 打印组合的元组
以上实例输出结果：
(‘runoob’, 786, 2.23, ‘john’, 70.2)
runoob
(786, 2.23)
(2.23, ‘john’, 70.2)
(123, ‘john’, 123, ‘john’)
(‘runoob’, 786, 2.23, ‘john’, 70.2, 123, ‘john’)
以下是元组无效的，因为元组是不允许更新的。而列表是允许更新的：
实例(Python 2.0+)
#!/usr/bin/python
# -<em>- coding: UTF-8 -</em>-</p>
<p>tuple = ( ‘runoob’, 786 , 2.23, ‘john’, 70.2 )
list = [ ‘runoob’, 786 , 2.23, ‘john’, 70.2 ]
tuple[2] = 1000    # 元组中是非法应用
list[2] = 1000     # 列表中是合法应用</p>
<p>Python 字典
字典(dictionary)是除列表以外python之中最灵活的内置数据结构类型。列表是有序的对象集合，字典是无序的对象集合。
两者之间的区别在于：字典当中的元素是通过键来存取的，而不是通过偏移存取。
字典用”{ }”标识。字典由索引(key)和它对应的值value组成。
实例(Python 2.0+)
#!/usr/bin/python
# -<em>- coding: UTF-8 -</em>-</p>
<p>dict = {}
dict[‘one’] = “This is one”
dict[2] = “This is two”</p>
<p>tinydict = {‘name’: ‘john’,’code’:6734, ‘dept’: ‘sales’}</p>
<p>print dict[‘one’]          # 输出键为’one’ 的值
print dict[2]              # 输出键为 2 的值
print tinydict             # 输出完整的字典
print tinydict.keys()      # 输出所有键
print tinydict.values()    # 输出所有值
输出结果为：
This is one
This is two
{‘dept’: ‘sales’, ‘code’: 6734, ‘name’: ‘john’}
[‘dept’, ‘code’, ‘name’]
[‘sales’, 6734, ‘john’]</p>
<p>Python数据类型转换
有时候，我们需要对数据内置的类型进行转换，数据类型的转换，你只需要将数据类型作为函数名即可。
以下几个内置的函数可以执行数据类型之间的转换。这些函数返回一个新的对象，表示转换的值。
函数
描述
int(x [,base])
将x转换为一个整数
long(x [,base] )
将x转换为一个长整数
float(x)
将x转换到一个浮点数
complex(real [,imag])
创建一个复数
str(x)
将对象 x 转换为字符串
repr(x)
将对象 x 转换为表达式字符串
eval(str)
用来计算在字符串中的有效Python表达式,并返回一个对象
tuple(s)
将序列 s 转换为一个元组
list(s)
将序列 s 转换为一个列表
set(s)
转换为可变集合
dict(d)
创建一个字典。d 必须是一个序列 (key,value)元组。
frozenset(s)
转换为不可变集合
chr(x)
将一个整数转换为一个字符
unichr(x)
将一个整数转换为Unicode字符
ord(x)
将一个字符转换为它的整数值
hex(x)
将一个整数转换为一个十六进制字符串
oct(x)
将一个整数转换为一个八进制字符串</p>
<dl class="simple">
<dt>Python replace()方法</dt><dd><p>Python 字符串</p>
</dd>
</dl>
<p>描述
Python replace() 方法把字符串中的 old（旧字符串） 替换成 new(新字符串)，如果指定第三个参数max，则替换不超过 max 次。
语法
replace()方法语法：
str.replace(old, new[, max])
参数
old – 将被替换的子字符串。
new – 新字符串，用于替换old子字符串。
max – 可选字符串, 替换不超过 max 次
返回值
返回字符串中的 old（旧字符串） 替换成 new(新字符串)后生成的新字符串，如果指定第三个参数max，则替换不超过 max 次。
实例
以下实例展示了replace()函数的使用方法：
实例
#!/usr/bin/python</p>
<p>str = “this is string example….wow!!! this is really string”;
print str.replace(“is”, “was”);
print str.replace(“is”, “was”, 3);
以上实例输出结果如下：
thwas was string example….wow!!! thwas was really string
thwas was string example….wow!!! thwas is really string</p>
<dl class="simple">
<dt>Python format 格式化函数</dt><dd><p>Python 字符串</p>
</dd>
</dl>
<p>Python2.6 开始，新增了一种格式化字符串的函数 str.format()，它增强了字符串格式化的功能。
基本语法是通过 {} 和 : 来代替以前的 % 。
format 函数可以接受不限个参数，位置可以不按顺序。
实例
&gt;&gt;&gt;”{} {}”.format(“hello”, “world”)    # 不设置指定位置，按默认顺序
‘hello world’</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> </span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="s2">&quot;world&quot;</span><span class="p">)</span>  <span class="c1"># 设置指定位置</span>
<span class="go">&#39;hello world&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;</span><span class="si">{1}</span><span class="s2"> </span><span class="si">{0}</span><span class="s2"> </span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="s2">&quot;world&quot;</span><span class="p">)</span>  <span class="c1"># 设置指定位置</span>
<span class="go">&#39;world hello world&#39;</span>
<span class="go">也可以设置参数：</span>
<span class="go">实例</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#!/usr/bin/python
# -*- coding: UTF-8 -*-

print(&quot;网站名：{name}, 地址 {url}&quot;.format(name=&quot;菜鸟教程&quot;, url=&quot;www.runoob.com&quot;))

# 通过字典设置参数
site = {&quot;name&quot;: &quot;菜鸟教程&quot;, &quot;url&quot;: &quot;www.runoob.com&quot;}
print(&quot;网站名：{name}, 地址 {url}&quot;.format(**site))

# 通过列表索引设置参数
my_list = [&#39;菜鸟教程&#39;, &#39;www.runoob.com&#39;]
print(&quot;网站名：{0[0]}, 地址 {0[1]}&quot;.format(my_list))  # &quot;0&quot; 是必须的
输出结果为：
网站名：菜鸟教程, 地址 www.runoob.com
网站名：菜鸟教程, 地址 www.runoob.com
网站名：菜鸟教程, 地址 www.runoob.com
也可以向 str.format() 传入对象：
</pre></div>
</div>
<p>实例</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#!/usr/bin/python
# -*- coding: UTF-8 -*-

class AssignValue(object):
    def __init__(self, value):
        self.value = value
my_value = AssignValue(6)
print(&#39;value 为: {0.value}&#39;.format(my_value))  # &quot;0&quot; 是可选的
输出结果为：
value 为: 6
数字格式化
下表展示了 str.format() 格式化数字的多种方法：
&gt;&gt;&gt; print(&quot;{:.2f}&quot;.format(3.1415926));
3.14
</pre></div>
</div>
<p><a class="reference external" href="https://blog.csdn.net/SoaringLee_fighting/article/details/80456036">https://blog.csdn.net/SoaringLee_fighting/article/details/80456036</a></p>
<p><a class="reference external" href="https://www.jb51.net/article/143445.htm">https://www.jb51.net/article/143445.htm</a></p>
<p><a class="reference external" href="https://www.cnblogs.com/xueweisuoyong/p/11841132.html">https://www.cnblogs.com/xueweisuoyong/p/11841132.html</a></p>
<p><a class="reference external" href="http://www.pyinstaller.org/">http://www.pyinstaller.org/</a></p>
<p><a class="reference external" href="https://www.jianshu.com/p/e6fd7b7abf90">https://www.jianshu.com/p/e6fd7b7abf90</a></p>
<p><a class="reference external" href="https://blog.csdn.net/haoxiuzhao/article/details/89606080">https://blog.csdn.net/haoxiuzhao/article/details/89606080</a></p>
<p><a class="reference external" href="https://blog.csdn.net/zhengnz/article/details/6388748">https://blog.csdn.net/zhengnz/article/details/6388748</a></p>
</div>
<div class="section" id="id31">
<h3><span class="section-number">4.8. </span>去掉字符串中的空格<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<p>str.strip() 取消最左和最右边的空格</p>
</div>
<div class="section" id="id32">
<h3><span class="section-number">4.9. </span>去掉字符串中间的空格<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<p>str.replace(‘ ‘, ‘’)</p>
</div>
<div class="section" id="hex0">
<h3><span class="section-number">4.10. </span>hex不足两位补0<a class="headerlink" href="#hex0" title="Permalink to this headline">¶</a></h3>
<p>str.zfill(2)</p>
</div>
<div class="section" id="id33">
<h3><span class="section-number">4.11. </span>python 全局变量的使用<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h3>
<p>在class里定义
flag
在def函数里调用self.flag，一定要加上self</p>
</div>
<div class="section" id="python-print-bytes">
<h3><span class="section-number">4.12. </span>python print bytes类型数据乱码问题<a class="headerlink" href="#python-print-bytes" title="Permalink to this headline">¶</a></h3>
<p>x = bytes(a)
print(x)
print(x.hex)</p>
</div>
<div class="section" id="id34">
<h3><span class="section-number">4.13. </span>python字符串后面追加字符<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h3>
<p>直接使用+号</p>
</div>
<div class="section" id="id35">
<h3><span class="section-number">4.14. </span>Python清除字符串中间空格的方法<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h3>
<p>a.replace(‘ ‘, ‘’)</p>
</div>
<div class="section" id="python-0">
<h3><span class="section-number">4.15. </span>Python 自动给数字前面补0<a class="headerlink" href="#python-0" title="Permalink to this headline">¶</a></h3>
<div class="section" id="python-hex-0">
<h4><span class="section-number">4.15.1. </span>python hex()不足两位补0<a class="headerlink" href="#python-hex-0" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;123&quot;</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">s</span> <span class="o">==</span> <span class="s1">&#39;00123&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="python-hex">
<h3><span class="section-number">4.16. </span>Python hex() 函数<a class="headerlink" href="#python-hex" title="Permalink to this headline">¶</a></h3>
<p>描述</p>
<p>hex() 函数用于将10进制整数转换成16进制，以字符串形式表示。</p>
<p>语法</p>
<p>hex 语法：</p>
<p>hex(x)</p>
<p>参数说明：</p>
<p>x – 10进制整数</p>
<p>返回值</p>
<p>返回16进制数，以字符串形式表示。</p>
</div>
<div class="section" id="pyqttextedit">
<h3><span class="section-number">4.17. </span>pyqt的textedit如何追加显示<a class="headerlink" href="#pyqttextedit" title="Permalink to this headline">¶</a></h3>
<p>str.append(‘a’)</p>
</div>
<div class="section" id="id36">
<h3><span class="section-number">4.18. </span>Python中获取两数相除的商和余数<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h3>
<p>div = a//b
mod = a%b</p>
</div>
<div class="section" id="pythonstr0x">
<h3><span class="section-number">4.19. </span>python取消str中的所有0x<a class="headerlink" href="#pythonstr0x" title="Permalink to this headline">¶</a></h3>
<p>…</p>
</div>
<div class="section" id="pythonliststr">
<h3><span class="section-number">4.20. </span>python中list和str互相转换<a class="headerlink" href="#pythonliststr" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://www.cnblogs.com/wutaotaosin/p/9753562.html">https://www.cnblogs.com/wutaotaosin/p/9753562.html</a></p>
<p>list-&gt;str</p>
<p>a = [‘w’,’x’,’z’]
b = “”.join(a)</p>
<p>str-&gt;list</p>
<p>stra = ‘12345678’
lista = list(stra)</p>
<p><a class="reference external" href="https://blog.csdn.net/weixin_38819889/article/details/93849621">https://blog.csdn.net/weixin_38819889/article/details/93849621</a></p>
</div>
<div class="section" id="id37">
<h3><span class="section-number">4.21. </span>16进制字符串、列表、字符串之间的转换<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://www.jianshu.com/p/7136b47fdd33">https://www.jianshu.com/p/7136b47fdd33</a></p>
</div>
<div class="section" id="id38">
<h3><span class="section-number">4.22. </span>如何在Python中延迟时间？<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h3>
<p>time.sleep(5) #5s
time.sleep(0.1) # 100ms</p>
<p><a class="reference external" href="https://includestdio.com/1369.html">https://includestdio.com/1369.html</a></p>
</div>
<div class="section" id="id39">
<h3><span class="section-number">4.23. </span>python中，获取字符串的长度<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h3>
<p>len(str)</p>
</div>
<div class="section" id="python-strbytes">
<h3><span class="section-number">4.24. </span>python str与bytes之间的转换<a class="headerlink" href="#python-strbytes" title="Permalink to this headline">¶</a></h3>
<p># str to bytes
sb = str.encode(s)
#sb = bytes(s, encoding = “utf8”)</p>
<p># bytes to str
#bs = str(b, encoding = “utf8”)
sb = bytes.decode(s)</p>
<p>实际正确方法是</p>
<p>sb = str(b.hex)</p>
<p><a class="reference external" href="https://blog.csdn.net/xiaosongbk/article/details/80919268">https://blog.csdn.net/xiaosongbk/article/details/80919268</a></p>
</div>
<div class="section" id="pythonbytes-bytearray">
<h3><span class="section-number">4.25. </span>Python字节数组【bytes/bytearray】<a class="headerlink" href="#pythonbytes-bytearray" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://www.cnblogs.com/fieldtianye/p/8276552.html">https://www.cnblogs.com/fieldtianye/p/8276552.html</a></p>
<p><a class="reference external" href="https://www.jianshu.com/p/ed8f3d021a45">https://www.jianshu.com/p/ed8f3d021a45</a></p>
</div>
<div class="section" id="id40">
<h3><span class="section-number">4.26. </span>字符串中有0如何自动补齐成00<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id41">
<h3><span class="section-number">4.27. </span>补齐问题<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h3>
<p>0x0补齐后是00x0</p>
<p>.zfill(4)补齐的方法是左边补齐
应该先把0x取消，然后.zfill(2)补齐数据</p>
</div>
<div class="section" id="python-hmac">
<h3><span class="section-number">4.28. </span>python HMAC算法<a class="headerlink" href="#python-hmac" title="Permalink to this headline">¶</a></h3>
<p>参考：</p>
<p><a class="reference external" href="https://blog.csdn.net/whatday/article/details/100173806">https://blog.csdn.net/whatday/article/details/100173806</a></p>
<p><a class="reference external" href="https://www.cnblogs.com/shengulong/p/7474621.html">https://www.cnblogs.com/shengulong/p/7474621.html</a></p>
<p><a class="reference external" href="https://www.cnblogs.com/lilyxiaoyy/p/10942922.html">https://www.cnblogs.com/lilyxiaoyy/p/10942922.html</a></p>
</div>
<div class="section" id="id42">
<h3><span class="section-number">4.29. </span>字符串转十六进制<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>data = “47454D414C544FFFFFFFFFFFFFFFFF00”
data_hex = “”.join(data).replace(‘0x’, ‘’).zfill(2)</p>
</div></blockquote>
</div>
<div class="section" id="bytes">
<h3><span class="section-number">4.30. </span>十六进制转bytes<a class="headerlink" href="#bytes" title="Permalink to this headline">¶</a></h3>
<p>bytes.fromhex(data_hex)</p>
</div>
<div class="section" id="hmac">
<h3><span class="section-number">4.31. </span>hmac算法<a class="headerlink" href="#hmac" title="Permalink to this headline">¶</a></h3>
<p>self.var_hmac_algorithm = “SHA256”
self.var_vmpk = hmac.new(self.var_gmpk, self.var_se_vendor_id, digestmod=self.var_hmac_algorithm).hexdigest()</p>
<p><a class="reference external" href="https://blog.csdn.net/mxj588love/article/details/80692964">https://blog.csdn.net/mxj588love/article/details/80692964</a></p>
</div>
<div class="section" id="hash">
<h3><span class="section-number">4.32. </span>hash算法<a class="headerlink" href="#hash" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">var_hash_algorithm</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lineEdit_iccidstr</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">var_hash_algorithm</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
<span class="bp">self</span><span class="o">.</span><span class="n">iccid_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">var_hash_algorithm</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="ascii">
<h3><span class="section-number">4.33. </span>ascii字符串转十六进制<a class="headerlink" href="#ascii" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">binascii</span>

<span class="n">e</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">iccid_str</span><span class="p">:</span>
    <span class="n">d</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">e</span> <span class="o">=</span> <span class="n">e</span><span class="o">*</span><span class="mi">256</span> <span class="o">+</span> <span class="n">d</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;e:&quot;</span><span class="p">,</span> <span class="nb">hex</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</pre></div>
</div>
<p>结果：</p>
<p>000000000000001
0x303030303030303030303030303031</p>
<p><a class="reference external" href="https://www.cnblogs.com/abdm-989/p/11329122.html">https://www.cnblogs.com/abdm-989/p/11329122.html</a></p>
<p><a class="reference external" href="https://www.cnblogs.com/ncuhwxiong/p/8124940.html">https://www.cnblogs.com/ncuhwxiong/p/8124940.html</a></p>
<p><a class="reference external" href="https://blog.csdn.net/qq_14997473/article/details/81085186">https://blog.csdn.net/qq_14997473/article/details/81085186</a></p>
<p><a class="reference external" href="https://blog.csdn.net/qq_38161040/article/details/103963756">https://blog.csdn.net/qq_38161040/article/details/103963756</a></p>
</div>
<div class="section" id="aes">
<h3><span class="section-number">4.34. </span>AES算法<a class="headerlink" href="#aes" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cryptos</span> <span class="o">=</span> <span class="n">AES</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">var_aes_algorithm</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">var_iv</span><span class="p">)</span>
<span class="n">cipher_text</span> <span class="o">=</span> <span class="n">cryptos</span><span class="o">.</span><span class="n">encrypt</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="hex2bin-py">
<h3><span class="section-number">4.35. </span>hex2bin.py<a class="headerlink" href="#hex2bin-py" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1"># File Name : hex2bin.py</span>
<span class="c1"># Version : V1.0.0001</span>
<span class="c1"># Date : 2019/03/06</span>
<span class="c1"># Author : qipeng_jiang</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">six</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">reduce</span>

<span class="c1"># get &#39;.hex&#39; file name from current path</span>
<span class="k">def</span> <span class="nf">getFileNamebyEX</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
 <span class="n">f_list</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
 <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">f_list</span><span class="p">:</span>
  <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">i</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
  <span class="n">extname</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">i</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
  <span class="k">if</span> <span class="n">extname</span> <span class="o">==</span> <span class="s1">&#39;.hex&#39;</span><span class="p">:</span>
   <span class="k">return</span> <span class="n">i</span>

<span class="n">bin_buf</span> <span class="o">=</span> <span class="p">[]</span><span class="c1"># raw data of binary is to be stored here</span>

<span class="k">def</span> <span class="nf">hex2bin</span><span class="p">(</span><span class="n">hex_file_name</span><span class="p">,</span><span class="n">bin_file_name</span><span class="p">):</span>
 <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">hex_file_name</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">frd</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hex file </span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="o">+</span><span class="n">hex_file_name</span><span class="o">+</span><span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="o">+</span><span class="s1">&#39; is opened&#39;</span><span class="p">)</span>
  <span class="n">byte_num</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">frd</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
   <span class="c1">#line.strip();#cut off CR</span>
   <span class="k">if</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;:&#39;</span><span class="p">):</span>
    <span class="k">if</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">7</span><span class="p">:</span><span class="mi">9</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;04&#39;</span><span class="p">):</span><span class="c1">#Extended Linear Address Record</span>
     <span class="c1">#print(&#39;Extended Linear Address Record&#39;);</span>
     <span class="n">line</span> <span class="o">=</span> <span class="n">char2hex</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
     <span class="k">if</span> <span class="n">checksum</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span><span class="c1">#checksum passed</span>
      <span class="n">addr_h</span> <span class="o">=</span> <span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">&lt;&lt;</span><span class="mi">24</span><span class="p">)</span> <span class="o">+</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">&lt;&lt;</span><span class="mi">16</span><span class="p">)</span>
     <span class="k">else</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;checksum failed!&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">hex</span><span class="p">,</span><span class="n">line</span><span class="p">))))</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">7</span><span class="p">:</span><span class="mi">9</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;00&#39;</span><span class="p">):</span><span class="c1">#Data Record</span>
     <span class="n">line</span> <span class="o">=</span> <span class="n">char2hex</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
     <span class="k">if</span> <span class="n">checksum</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
      <span class="n">addr_l</span> <span class="o">=</span> <span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&lt;&lt;</span><span class="mi">8</span><span class="p">)</span> <span class="o">+</span> <span class="n">line</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
      <span class="n">LL</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
      <span class="n">byte_num</span> <span class="o">=</span> <span class="n">byte_num</span> <span class="o">+</span> <span class="n">LL</span>
      <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">line</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
       <span class="n">bin_buf</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">LL</span><span class="o">!=</span><span class="mh">0x10</span><span class="p">:</span>
       <span class="n">addr_end</span> <span class="o">=</span> <span class="n">addr_h</span> <span class="o">+</span> <span class="n">addr_l</span> <span class="o">+</span> <span class="n">LL</span> <span class="o">-</span> <span class="mi">1</span>
      <span class="k">else</span><span class="p">:</span>
       <span class="k">pass</span>
     <span class="k">else</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;checksum failed!&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">hex</span><span class="p">,</span><span class="n">line</span><span class="p">))))</span>
    <span class="k">elif</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">7</span><span class="p">:</span><span class="mi">9</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;05&#39;</span><span class="p">):</span>
     <span class="c1">#print(&#39;Extended Segment Address Record&#39;);</span>
     <span class="n">line</span> <span class="o">=</span> <span class="n">char2hex</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
     <span class="k">if</span> <span class="n">checksum</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
      <span class="k">pass</span>
     <span class="k">else</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;checksum failed!&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">hex</span><span class="p">,</span><span class="n">line</span><span class="p">))))</span>
    <span class="k">elif</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">7</span><span class="p">:</span><span class="mi">9</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;01&#39;</span><span class="p">):</span><span class="c1">#End of FileRecord</span>
     <span class="c1">#print(&#39;End of FileRecord&#39;);</span>
     <span class="n">line</span> <span class="o">=</span> <span class="n">char2hex</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
     <span class="k">if</span> <span class="n">checksum</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*********Hex file successed resolved**********&#39;</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">addr_start : </span><span class="si">%08X</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">addr_end</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">bin_buf</span><span class="p">)))</span>
      <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">addr_end : </span><span class="si">%08X</span><span class="s1">&#39;</span> <span class="o">%</span><span class="n">addr_end</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">Total : </span><span class="si">%d</span><span class="s1"> Bytes&#39;</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">bin_buf</span><span class="p">))</span>
     <span class="k">else</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;checksum failed!&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">hex</span><span class="p">,</span><span class="n">line</span><span class="p">))))</span>
    <span class="k">else</span><span class="p">:</span>
     <span class="k">pass</span><span class="c1">#don&#39;t care</span>
   <span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;illegal format!&#39;</span><span class="p">)</span>

<span class="c1"># write data in bin_buf to &#39;*.bin&#39; file</span>
<span class="k">def</span> <span class="nf">wr_bin</span><span class="p">(</span><span class="n">bin_buf</span><span class="p">):</span>
 <span class="n">bin_buf_byte</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">six</span><span class="o">.</span><span class="n">int2byte</span><span class="p">,</span><span class="n">bin_buf</span><span class="p">))</span>
 <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">bin_file_name</span><span class="p">,</span><span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fwrb</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Bin file </span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="o">+</span><span class="n">bin_file_name</span><span class="o">+</span><span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="o">+</span><span class="s1">&#39; is opened for write&#39;</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">bin_buf_byte</span><span class="p">:</span>
   <span class="n">fwrb</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Bin file is successfully written!&#39;</span><span class="p">)</span>

<span class="c1">#one line string to hex-8 list,except &#39;:&#39; and CR</span>
<span class="k">def</span> <span class="nf">char2hex</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
 <span class="n">line</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">ord</span><span class="p">,</span><span class="nb">list</span><span class="p">(</span><span class="n">line</span><span class="p">)))</span>
 <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)):</span>
  <span class="k">if</span> <span class="n">line</span><span class="p">[</span><span class="n">num</span><span class="p">]</span><span class="o">&gt;=</span><span class="mh">0x30</span> <span class="ow">and</span> <span class="n">line</span><span class="p">[</span><span class="n">num</span><span class="p">]</span><span class="o">&lt;=</span><span class="mh">0x39</span><span class="p">:</span>
   <span class="n">line</span><span class="p">[</span><span class="n">num</span><span class="p">]</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="n">num</span><span class="p">]</span> <span class="o">-</span> <span class="mh">0x30</span>
  <span class="k">elif</span> <span class="n">line</span><span class="p">[</span><span class="n">num</span><span class="p">]</span><span class="o">&gt;=</span><span class="mh">0x41</span> <span class="ow">and</span> <span class="n">line</span><span class="p">[</span><span class="n">num</span><span class="p">]</span><span class="o">&lt;=</span><span class="mh">0x5A</span><span class="p">:</span>
   <span class="n">line</span><span class="p">[</span><span class="n">num</span><span class="p">]</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="n">num</span><span class="p">]</span> <span class="o">-</span> <span class="mi">55</span>
  <span class="k">else</span><span class="p">:</span>
   <span class="k">pass</span>
 <span class="n">line</span><span class="o">=</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="c1">#delete CR and &#39;:&#39;, in terms of byte</span>
 <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">),</span><span class="mi">2</span><span class="p">):</span>
  <span class="n">line</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="mi">16</span> <span class="o">+</span> <span class="n">line</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
  <span class="n">newline</span> <span class="o">=</span> <span class="n">line</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span>
 <span class="k">return</span> <span class="n">newline</span>

<span class="c1">#checksum calculation of every line</span>
<span class="k">def</span> <span class="nf">checksum</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
 <span class="c1">#considering if the checksum calculation result is 0x100</span>
 <span class="nb">sum</span> <span class="o">=</span> <span class="p">(</span><span class="mh">0x100</span> <span class="o">-</span> <span class="p">(</span><span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span><span class="n">line</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">%</span> <span class="mi">256</span><span class="p">))</span> <span class="o">%</span> <span class="mi">256</span>
 <span class="k">if</span> <span class="nb">sum</span> <span class="o">==</span> <span class="n">line</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span><span class="c1">#check if sum calculated is equal to checksum byte in hex file</span>
  <span class="k">return</span> <span class="mi">0</span>
 <span class="k">else</span><span class="p">:</span>
  <span class="k">return</span> <span class="mi">1</span>

<span class="n">starttime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clock</span><span class="p">()</span>
<span class="n">hex_file_name</span> <span class="o">=</span> <span class="n">getFileNamebyEX</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="n">bin_file_name</span> <span class="o">=</span> <span class="n">hex_file_name</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;.bin&#39;</span>
<span class="n">hex2bin</span><span class="p">(</span><span class="n">hex_file_name</span><span class="p">,</span><span class="n">bin_file_name</span><span class="p">)</span>
<span class="n">wr_bin</span><span class="p">(</span><span class="n">bin_buf</span><span class="p">)</span>
<span class="n">endtime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clock</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Time elapsed:&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">endtime</span><span class="o">-</span><span class="n">starttime</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="python-cmac">
<h3><span class="section-number">4.36. </span>python 实现CMAC<a class="headerlink" href="#python-cmac" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://blog.csdn.net/qq_30754565/article/details/83868069">https://blog.csdn.net/qq_30754565/article/details/83868069</a></p>
</div>
<div class="section" id="id43">
<h3><span class="section-number">4.37. </span>python列出文件加下所有文件,筛选hex文件<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f_list</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;f_list&quot;</span><span class="p">,</span> <span class="n">f_list</span><span class="p">)</span>
 <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">f_list</span><span class="p">:</span>
  <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">i</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
  <span class="n">extname</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">i</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;filename&quot;</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;extern name&quot;</span><span class="p">,</span> <span class="n">extname</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">extname</span> <span class="o">==</span> <span class="s1">&#39;.hex&#39;</span><span class="p">:</span>
   <span class="k">return</span> <span class="n">i</span>
</pre></div>
</div>
</div>
<div class="section" id="hexbin">
<h3><span class="section-number">4.38. </span>hex固件转bin<a class="headerlink" href="#hexbin" title="Permalink to this headline">¶</a></h3>
<p>hex文件打开看到是十六进制数据，python打开识别的是字符串</p>
<p>先把字符串转换成十进制</p>
<p>字符 十进制 十六进制</p>
<p>: 58 0x3A
1 49 0x31</p>
</div>
</div>
<span id="document-usage/qt"></span><div class="section" id="qt">
<h2><span class="section-number">5. </span>qt<a class="headerlink" href="#qt" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ui">
<h3><span class="section-number">5.1. </span>ui<a class="headerlink" href="#ui" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id1">
<h3><span class="section-number">5.2. </span>菜单栏<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<img alt="_images/qt_caidan.png" src="_images/qt_caidan.png" />
</div>
<div class="section" id="id2">
<h3><span class="section-number">5.3. </span>信号与槽<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>快捷键F4 F3进入和退出信号与槽添加功能</p>
</div>
<div class="section" id="id3">
<h3><span class="section-number">5.4. </span>点击按钮进入槽函数<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<img alt="_images/slot.png" src="_images/slot.png" />
<img alt="_images/slot1.png" src="_images/slot1.png" />
<img alt="_images/slot2.png" src="_images/slot2.png" />
</div>
<div class="section" id="python">
<h3><span class="section-number">5.5. </span>转换为python文件<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h3>
<img alt="_images/pyuic.png" src="_images/pyuic.png" />
</div>
<div class="section" id="pythonslot1">
<h3><span class="section-number">5.6. </span>python中看到的slot1<a class="headerlink" href="#pythonslot1" title="Permalink to this headline">¶</a></h3>
<img alt="_images/slot3.png" src="_images/slot3.png" />
</div>
<div class="section" id="slot1">
<h3><span class="section-number">5.7. </span>手动添加slot1函数的实现<a class="headerlink" href="#slot1" title="Permalink to this headline">¶</a></h3>
<img alt="_images/slot4.png" src="_images/slot4.png" />
</div>
</div>
<span id="document-usage/dbc"></span><div class="section" id="dbc">
<h2><span class="section-number">6. </span>dbc<a class="headerlink" href="#dbc" title="Permalink to this headline">¶</a></h2>
<img alt="_images/network_node.png" src="_images/network_node.png" />
<img alt="_images/messages.png" src="_images/messages.png" />
<img alt="_images/signals.png" src="_images/signals.png" />
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VERSION</span> <span class="s2">&quot;&quot;</span>


<span class="n">NS_</span> <span class="p">:</span>
        <span class="n">NS_DESC_</span>
        <span class="n">CM_</span>
        <span class="n">BA_DEF_</span>
        <span class="n">BA_</span>
        <span class="n">VAL_</span>
        <span class="n">CAT_DEF_</span>
        <span class="n">CAT_</span>
        <span class="n">FILTER</span>
        <span class="n">BA_DEF_DEF_</span>
        <span class="n">EV_DATA_</span>
        <span class="n">ENVVAR_DATA_</span>
        <span class="n">SGTYPE_</span>
        <span class="n">SGTYPE_VAL_</span>
        <span class="n">BA_DEF_SGTYPE_</span>
        <span class="n">BA_SGTYPE_</span>
        <span class="n">SIG_TYPE_REF_</span>
        <span class="n">VAL_TABLE_</span>
        <span class="n">SIG_GROUP_</span>
        <span class="n">SIG_VALTYPE_</span>
        <span class="n">SIGTYPE_VALTYPE_</span>
        <span class="n">BO_TX_BU_</span>
        <span class="n">BA_DEF_REL_</span>
        <span class="n">BA_REL_</span>
        <span class="n">BA_DEF_DEF_REL_</span>
        <span class="n">BU_SG_REL_</span>
        <span class="n">BU_EV_REL_</span>
        <span class="n">BU_BO_REL_</span>
        <span class="n">SG_MUL_VAL_</span>

<span class="n">BS_</span><span class="p">:</span>

<span class="n">BU_</span><span class="p">:</span> <span class="n">AC</span> <span class="n">BCM</span> <span class="n">BCU</span> <span class="n">DCM</span> <span class="n">EPB</span> <span class="n">EPS</span> <span class="n">HMI</span> <span class="n">MCU</span> <span class="n">OBC</span> <span class="n">TESTER</span> <span class="n">VCU</span>


<span class="n">BO_</span> <span class="mi">1036</span> <span class="n">BCM_NM</span><span class="p">:</span> <span class="mi">8</span> <span class="n">BCM</span>
 <span class="n">SG_</span> <span class="n">BCM_SleepCommand</span> <span class="p">:</span> <span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">VCU</span><span class="p">,</span><span class="n">MCU</span><span class="p">,</span><span class="n">BCU</span><span class="p">,</span><span class="n">DCM</span><span class="p">,</span><span class="n">HMI</span><span class="p">,</span><span class="n">EPB</span><span class="p">,</span><span class="n">OBC</span>

<span class="n">BO_</span> <span class="mi">1050</span> <span class="n">OBC_NM</span><span class="p">:</span> <span class="mi">8</span> <span class="n">OBC</span>
 <span class="n">SG_</span> <span class="n">OBC_SleepConditionsReady</span> <span class="p">:</span> <span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">BCM</span>
 <span class="n">SG_</span> <span class="n">OBC_Stayawake_reasons1_InputVoltage</span> <span class="p">:</span> <span class="mi">16</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">Vector__XXX</span>
 <span class="n">SG_</span> <span class="n">OBC_Stayawake_reasons2_LowBatteryCharging</span> <span class="p">:</span> <span class="mi">17</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">Vector__XXX</span>
 <span class="n">SG_</span> <span class="n">OBC_BCUSleepConditionsNotReady</span> <span class="p">:</span> <span class="mi">18</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">Vector__XXX</span>

<span class="n">BO_</span> <span class="mi">1562</span> <span class="n">OBC_Diagnosis</span><span class="p">:</span> <span class="mi">8</span> <span class="n">OBC</span>
 <span class="n">SG_</span> <span class="n">OBC_OutputOvervoltageFault</span> <span class="p">:</span> <span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">Vector__XXX</span>
 <span class="n">SG_</span> <span class="n">OBC_OutputOvervoltageLowFault</span> <span class="p">:</span> <span class="mi">1</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">Vector__XXX</span>
 <span class="n">SG_</span> <span class="n">OBC_OutputShortCircuitFault</span> <span class="p">:</span> <span class="mi">2</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">Vector__XXX</span>
 <span class="n">SG_</span> <span class="n">OBC_TemperatureTooHighFault</span> <span class="p">:</span> <span class="mi">3</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">Vector__XXX</span>
 <span class="n">SG_</span> <span class="n">OBC_LowTemperatureShutdownFault</span> <span class="p">:</span> <span class="mi">4</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">Vector__XXX</span>
 <span class="n">SG_</span> <span class="n">OBC_SoftwareVersion</span> <span class="p">:</span> <span class="mi">55</span><span class="o">|</span><span class="mi">8</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">255</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">Vector__XXX</span>
 <span class="n">SG_</span> <span class="n">OBC_AC_Input220VoltageFault</span> <span class="p">:</span> <span class="mi">5</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">Vector__XXX</span>
 <span class="n">SG_</span> <span class="n">OBC_HardwareVersion</span> <span class="p">:</span> <span class="mi">63</span><span class="o">|</span><span class="mi">8</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">255</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">Vector__XXX</span>
 <span class="n">SG_</span> <span class="n">OBC_OutputOverCurrentProtection</span> <span class="p">:</span> <span class="mi">6</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">Vector__XXX</span>
 <span class="n">SG_</span> <span class="n">OBC_LossCommunicationWithBCU</span> <span class="p">:</span> <span class="mi">7</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">Vector__XXX</span>
 <span class="n">SG_</span> <span class="n">OBC_BusOff</span> <span class="p">:</span> <span class="mi">8</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">Vector__XXX</span>

<span class="n">BO_</span> <span class="mi">2003</span> <span class="n">TEST_OBC_DiagReq</span><span class="p">:</span> <span class="mi">8</span> <span class="n">TESTER</span>
 <span class="n">SG_</span> <span class="n">TEST_EPB_DiagReq</span> <span class="p">:</span> <span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">OBC</span>

<span class="n">BO_</span> <span class="mi">2011</span> <span class="n">OBC_DiagResp</span><span class="p">:</span> <span class="mi">8</span> <span class="n">OBC</span>
 <span class="n">SG_</span> <span class="n">EPB_DiagResp</span> <span class="p">:</span> <span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">TESTER</span>

<span class="n">BO_</span> <span class="mi">2015</span> <span class="n">TEST_Func_DiagReq</span><span class="p">:</span> <span class="mi">8</span> <span class="n">TESTER</span>
 <span class="n">SG_</span> <span class="n">TEST_Func_DiagReq</span> <span class="p">:</span> <span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">VCU</span><span class="p">,</span><span class="n">MCU</span><span class="p">,</span><span class="n">BCU</span><span class="p">,</span><span class="n">AC</span><span class="p">,</span><span class="n">BCM</span><span class="p">,</span><span class="n">DCM</span><span class="p">,</span><span class="n">HMI</span><span class="p">,</span><span class="n">EPS</span><span class="p">,</span><span class="n">EPB</span><span class="p">,</span><span class="n">OBC</span>

<span class="n">BO_</span> <span class="mi">530</span> <span class="n">BCM_LightStatus</span><span class="p">:</span> <span class="mi">8</span> <span class="n">BCM</span>
 <span class="n">SG_</span> <span class="n">BCM_PowerMode</span> <span class="p">:</span> <span class="mi">11</span><span class="o">|</span><span class="mi">3</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">7</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">VCU</span><span class="p">,</span><span class="n">DCM</span><span class="p">,</span><span class="n">HMI</span><span class="p">,</span><span class="n">EPB</span><span class="p">,</span><span class="n">OBC</span>

<span class="n">BO_</span> <span class="mi">784</span> <span class="n">VCU_DisplayInfo</span><span class="p">:</span> <span class="mi">8</span> <span class="n">VCU</span>
 <span class="n">SG_</span> <span class="n">VCU_VehicleOpratingMode</span> <span class="p">:</span> <span class="mi">6</span><span class="o">|</span><span class="mi">2</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">3</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">MCU</span><span class="p">,</span><span class="n">BCU</span><span class="p">,</span><span class="n">HMI</span><span class="p">,</span><span class="n">OBC</span>
 <span class="n">SG_</span> <span class="n">VCU_LowBatteryChargingFunctionState</span> <span class="p">:</span> <span class="mi">31</span><span class="o">|</span><span class="mi">2</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">3</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">BCU</span><span class="p">,</span><span class="n">OBC</span>

<span class="n">BO_</span> <span class="mi">791</span> <span class="n">BCU_ChargeControl</span><span class="p">:</span> <span class="mi">8</span> <span class="n">BCU</span>
 <span class="n">SG_</span> <span class="n">BCU_ChargeControlStatus</span> <span class="p">:</span> <span class="mi">8</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">OBC</span>
 <span class="n">SG_</span> <span class="n">BCU_CurrentChargeState</span> <span class="p">:</span> <span class="mi">10</span><span class="o">|</span><span class="mi">2</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">3</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">VCU</span><span class="p">,</span><span class="n">MCU</span><span class="p">,</span><span class="n">HMI</span><span class="p">,</span><span class="n">OBC</span>
 <span class="n">SG_</span> <span class="n">BCU_ChargingVoltageSet</span> <span class="p">:</span> <span class="mi">23</span><span class="o">|</span><span class="mi">16</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mf">0.01</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mf">655.35</span><span class="p">]</span> <span class="s2">&quot;V&quot;</span> <span class="n">OBC</span>
 <span class="n">SG_</span> <span class="n">BCU_ChargingCurrentSet</span> <span class="p">:</span> <span class="mi">39</span><span class="o">|</span><span class="mi">8</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mf">25.5</span><span class="p">]</span> <span class="s2">&quot;A&quot;</span> <span class="n">OBC</span>

<span class="n">BO_</span> <span class="mi">796</span> <span class="n">BCU_StatusIndication</span><span class="p">:</span> <span class="mi">8</span> <span class="n">BCU</span>
 <span class="n">SG_</span> <span class="n">BCU_OBCSleepConditionsReady</span> <span class="p">:</span> <span class="mi">50</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">OBC</span>

<span class="n">BO_</span> <span class="mi">852</span> <span class="n">OBC_CurrentStatus</span><span class="p">:</span> <span class="mi">8</span> <span class="n">OBC</span>
 <span class="n">SG_</span> <span class="n">OBC_StartStatus</span> <span class="p">:</span> <span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">BCU</span>
 <span class="n">SG_</span> <span class="n">OBC_SystemFailure</span> <span class="p">:</span> <span class="mi">1</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">BCU</span>
 <span class="n">SG_</span> <span class="n">OBC_AC_Input220VoltageSupply</span> <span class="p">:</span> <span class="mi">2</span><span class="o">|</span><span class="mi">1</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;bit&quot;</span> <span class="n">BCU</span>
 <span class="n">SG_</span> <span class="n">OBC_DC_OutputVoltage</span> <span class="p">:</span> <span class="mi">39</span><span class="o">|</span><span class="mi">16</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mf">0.01</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mf">655.35</span><span class="p">]</span> <span class="s2">&quot;V&quot;</span> <span class="n">BCU</span>
 <span class="n">SG_</span> <span class="n">OBC_DC_OutputCurrent</span> <span class="p">:</span> <span class="mi">55</span><span class="o">|</span><span class="mi">8</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mf">25.5</span><span class="p">]</span> <span class="s2">&quot;A&quot;</span> <span class="n">BCU</span>
 <span class="n">SG_</span> <span class="n">OBC_Temperature</span> <span class="p">:</span> <span class="mi">63</span><span class="o">|</span><span class="mi">8</span><span class="o">@</span><span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">40</span><span class="p">)</span> <span class="p">[</span><span class="o">-</span><span class="mi">40</span><span class="o">|</span><span class="mi">214</span><span class="p">]</span> <span class="s2">&quot;℃&quot;</span> <span class="n">Vector__XXX</span>


<span class="n">CM_</span> <span class="s2">&quot; &quot;</span><span class="p">;</span>

<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">852</span> <span class="n">OBC_StartStatus</span> <span class="s2">&quot;OBC启动状态&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">852</span> <span class="n">OBC_SystemFailure</span> <span class="s2">&quot;OBC系统故障&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">852</span> <span class="n">OBC_AC_Input220VoltageSupply</span> <span class="s2">&quot;OBC指示充电机交流输入220V电压是否加载&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">852</span> <span class="n">OBC_DC_OutputVoltage</span> <span class="s2">&quot;OBC充电机直流输出电压&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">852</span> <span class="n">OBC_DC_OutputCurrent</span> <span class="s2">&quot;OBC充电机直流输出电流&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">852</span> <span class="n">OBC_Temperature</span> <span class="s2">&quot;OBC车载充电机温度&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">1050</span> <span class="n">OBC_SleepConditionsReady</span> <span class="s2">&quot;OBC睡眠条件满足标志位&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">1050</span> <span class="n">OBC_Stayawake_reasons1_InputVoltage</span> <span class="s2">&quot;OBC指示保持唤醒原因1_输入交流电压存在且充电未完成&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">1050</span> <span class="n">OBC_Stayawake_reasons2_LowBatteryCharging</span> <span class="s2">&quot;OBC指示保持唤醒原因2_小电池电量低充电开始&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">1050</span> <span class="n">OBC_BCUSleepConditionsNotReady</span> <span class="s2">&quot;OBC指示保持唤醒原因3_BCU睡眠条件不满足&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">1562</span> <span class="n">OBC_OutputOvervoltageFault</span> <span class="s2">&quot;OBC指示输出过压故障&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">1562</span> <span class="n">OBC_OutputOvervoltageLowFault</span> <span class="s2">&quot;OBC指示输出欠压故障&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">1562</span> <span class="n">OBC_OutputShortCircuitFault</span> <span class="s2">&quot;OBC指示输出短路故障&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">1562</span> <span class="n">OBC_TemperatureTooHighFault</span> <span class="s2">&quot;OBC指示过温故障&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">1562</span> <span class="n">OBC_LowTemperatureShutdownFault</span> <span class="s2">&quot;OBC指示低温关机告警（故障）&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">1562</span> <span class="n">OBC_SoftwareVersion</span> <span class="s2">&quot;OBC软件版本号&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">1562</span> <span class="n">OBC_AC_Input220VoltageFault</span> <span class="s2">&quot;OBC充电机交流输入220电压故障状态&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">1562</span> <span class="n">OBC_HardwareVersion</span> <span class="s2">&quot;OBC硬件版本号&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">1562</span> <span class="n">OBC_OutputOverCurrentProtection</span> <span class="s2">&quot;OBC指示输出过流保护&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">1562</span> <span class="n">OBC_LossCommunicationWithBCU</span> <span class="s2">&quot;OBC与BCU节点丢失通信&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">1562</span> <span class="n">OBC_BusOff</span> <span class="s2">&quot;OBC指示BusOff&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">2011</span> <span class="n">EPB_DiagResp</span> <span class="s2">&quot;EPB诊断响应&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">784</span> <span class="n">VCU_VehicleOpratingMode</span> <span class="s2">&quot;VCU指示当前车辆运行模式&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">784</span> <span class="n">VCU_LowBatteryChargingFunctionState</span> <span class="s2">&quot;VCU指示低压蓄电池充电功能状态&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">791</span> <span class="n">BCU_ChargeControlStatus</span> <span class="s2">&quot;BCU指示充电机控制状态&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">791</span> <span class="n">BCU_CurrentChargeState</span> <span class="s2">&quot;BCU指示当前充电状态&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">791</span> <span class="n">BCU_ChargingVoltageSet</span> <span class="s2">&quot;BCU指示充电电压设置&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">791</span> <span class="n">BCU_ChargingCurrentSet</span> <span class="s2">&quot;BCU指示充电电流设置&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">796</span> <span class="n">BCU_OBCSleepConditionsReady</span> <span class="s2">&quot;BCU指示睡眠条件满足（OBC用于睡眠条件判断）&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">530</span> <span class="n">BCM_PowerMode</span> <span class="s2">&quot;BCM指示电源模式&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">1036</span> <span class="n">BCM_SleepCommand</span> <span class="s2">&quot;BCM信号提示睡眠指令&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">2003</span> <span class="n">TEST_EPB_DiagReq</span> <span class="s2">&quot;TEST_EPB诊断请求&quot;</span><span class="p">;</span>
<span class="n">CM_</span> <span class="n">SG_</span> <span class="mi">2015</span> <span class="n">TEST_Func_DiagReq</span> <span class="s2">&quot;TEST_ALL功能寻址诊断请求&quot;</span><span class="p">;</span>


<span class="n">BA_DEF_</span> <span class="n">BO_</span>  <span class="s2">&quot;NmMessage&quot;</span> <span class="n">ENUM</span> <span class="s2">&quot;No&quot;</span><span class="p">,</span><span class="s2">&quot;Yes&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BO_</span>  <span class="s2">&quot;DiagState&quot;</span> <span class="n">ENUM</span>  <span class="s2">&quot;No&quot;</span><span class="p">,</span><span class="s2">&quot;Yes&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BO_</span>  <span class="s2">&quot;DiagRequest&quot;</span> <span class="n">ENUM</span>  <span class="s2">&quot;No&quot;</span><span class="p">,</span><span class="s2">&quot;Yes&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BO_</span>  <span class="s2">&quot;DiagResponse&quot;</span> <span class="n">ENUM</span>  <span class="s2">&quot;No&quot;</span><span class="p">,</span><span class="s2">&quot;Yes&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BO_</span>  <span class="s2">&quot;GenMsgSendType&quot;</span> <span class="n">ENUM</span>  <span class="s2">&quot;Cycle&quot;</span><span class="p">,</span><span class="s2">&quot;NoSendType&quot;</span><span class="p">,</span><span class="s2">&quot;IfActive&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BO_</span>  <span class="s2">&quot;GenMsgCycleTime&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">SG_</span>  <span class="s2">&quot;GenSigSendType&quot;</span> <span class="n">ENUM</span>  <span class="s2">&quot;Cycle&quot;</span><span class="p">,</span><span class="s2">&quot;OnChange&quot;</span><span class="p">,</span><span class="s2">&quot;OnWrite&quot;</span><span class="p">,</span><span class="s2">&quot;IfActive&quot;</span><span class="p">,</span><span class="s2">&quot;OnChangeWithRepetition&quot;</span><span class="p">,</span><span class="s2">&quot;OnWriteWithRepetition&quot;</span><span class="p">,</span><span class="s2">&quot;IfActiveWithRepetition&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">SG_</span>  <span class="s2">&quot;GenSigStartValue&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">SG_</span>  <span class="s2">&quot;GenSigInactiveValue&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BO_</span>  <span class="s2">&quot;GenMsgCycleTimeFast&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BO_</span>  <span class="s2">&quot;GenMsgNrOfRepetition&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BO_</span>  <span class="s2">&quot;GenMsgDelayTime&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_</span>  <span class="s2">&quot;DBName&quot;</span> <span class="n">STRING</span> <span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BU_</span>  <span class="s2">&quot;NodeLayerModules&quot;</span> <span class="n">STRING</span> <span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">SG_</span>  <span class="s2">&quot;GenSigTimeoutValue&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">1000000000</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BO_</span>  <span class="s2">&quot;GenMsgCycleTimeActive&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BU_</span>  <span class="s2">&quot;ILUsed&quot;</span> <span class="n">ENUM</span>  <span class="s2">&quot;No&quot;</span><span class="p">,</span><span class="s2">&quot;Yes&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BU_</span>  <span class="s2">&quot;TpNodeBaseAddress&quot;</span> <span class="n">HEX</span> <span class="mi">0</span> <span class="mi">2047</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BU_</span>  <span class="s2">&quot;TpTxIdentifier&quot;</span> <span class="n">HEX</span> <span class="mi">0</span> <span class="mi">2047</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BU_</span>  <span class="s2">&quot;TpRxIdentifier&quot;</span> <span class="n">HEX</span> <span class="mi">0</span> <span class="mi">2047</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BU_</span>  <span class="s2">&quot;TpRxMask&quot;</span> <span class="n">HEX</span> <span class="mi">0</span> <span class="mi">2047</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BU_</span>  <span class="s2">&quot;TpCanBus&quot;</span> <span class="n">INT</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BU_</span>  <span class="s2">&quot;TpTxAdrMode&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BU_</span>  <span class="s2">&quot;TpAddressExtension&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">100000000</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BU_</span>  <span class="s2">&quot;TpSTMin&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">1000000000</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BU_</span>  <span class="s2">&quot;TpBlockSize&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">10000000</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BU_</span>  <span class="s2">&quot;TpAddressingMode&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">4</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BU_</span>  <span class="s2">&quot;TpTargetAddress&quot;</span> <span class="n">HEX</span> <span class="mi">0</span> <span class="mi">255</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BU_</span>  <span class="s2">&quot;TpUseFC&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BU_</span>  <span class="s2">&quot;DiagStationAddress&quot;</span> <span class="n">HEX</span> <span class="mi">0</span> <span class="mi">255</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BU_</span>  <span class="s2">&quot;NmNode&quot;</span> <span class="n">ENUM</span>  <span class="s2">&quot;Not&quot;</span><span class="p">,</span><span class="s2">&quot;Yes&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BU_</span>  <span class="s2">&quot;NmStationAddress&quot;</span> <span class="n">HEX</span> <span class="mi">0</span> <span class="mi">65535</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BU_</span>  <span class="s2">&quot;NmCAN&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">2</span><span class="p">;</span>
<span class="n">BA_DEF_</span>  <span class="s2">&quot;Manufacturer&quot;</span> <span class="n">STRING</span> <span class="p">;</span>
<span class="n">BA_DEF_</span>  <span class="s2">&quot;VersionYear&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">99</span><span class="p">;</span>
<span class="n">BA_DEF_</span>  <span class="s2">&quot;VersionMonth&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">12</span><span class="p">;</span>
<span class="n">BA_DEF_</span>  <span class="s2">&quot;VersionWeek&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">52</span><span class="p">;</span>
<span class="n">BA_DEF_</span>  <span class="s2">&quot;VersionDay&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">31</span><span class="p">;</span>
<span class="n">BA_DEF_</span>  <span class="s2">&quot;VersionNumber&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_</span>  <span class="s2">&quot;TpBaseAddress&quot;</span> <span class="n">HEX</span> <span class="mi">0</span> <span class="mi">2047</span><span class="p">;</span>
<span class="n">BA_DEF_</span>  <span class="s2">&quot;NmType&quot;</span> <span class="n">STRING</span> <span class="p">;</span>
<span class="n">BA_DEF_</span>  <span class="s2">&quot;NmBaseAddress&quot;</span> <span class="n">HEX</span> <span class="mi">0</span> <span class="mi">2047</span><span class="p">;</span>
<span class="n">BA_DEF_</span>  <span class="s2">&quot;NmMessageCount&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">255</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BO_</span>  <span class="s2">&quot;_Cdb_Sc_CTm_FAW_v3_0&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BO_</span>  <span class="s2">&quot;_Cdb_Sc_CTm_FAW_v2_3&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BO_</span>  <span class="s2">&quot;_Cdb_Sc_CTm_FAW_v3_1&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">EV_</span>  <span class="s2">&quot;GenEnvAutoGenCtrl&quot;</span> <span class="n">ENUM</span>  <span class="s2">&quot;No&quot;</span><span class="p">,</span><span class="s2">&quot;Yes&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">EV_</span>  <span class="s2">&quot;GenEnvMsgOffset&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">2147483647</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">EV_</span>  <span class="s2">&quot;GenEnvMsgName&quot;</span> <span class="n">STRING</span> <span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">EV_</span>  <span class="s2">&quot;GenEnvIsGeneratedSnd&quot;</span> <span class="n">ENUM</span>  <span class="s2">&quot;No&quot;</span><span class="p">,</span><span class="s2">&quot;Yes&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">SG_</span>  <span class="s2">&quot;GenSigEnvVarType&quot;</span> <span class="n">ENUM</span>  <span class="s2">&quot;int&quot;</span><span class="p">,</span><span class="s2">&quot;float&quot;</span><span class="p">,</span><span class="s2">&quot;undef&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_</span>  <span class="s2">&quot;GenEnvVarPrefix&quot;</span> <span class="n">STRING</span> <span class="p">;</span>
<span class="n">BA_DEF_</span>  <span class="s2">&quot;GenEnvVarEndingSnd&quot;</span> <span class="n">STRING</span> <span class="p">;</span>
<span class="n">BA_DEF_</span>  <span class="s2">&quot;GenEnvVarEndingDsp&quot;</span> <span class="n">STRING</span> <span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BO_</span>  <span class="s2">&quot;_Cdb_Sc_CTm_FAW_v2_2&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BO_</span>  <span class="s2">&quot;_Cdb_Sc_CTm_FAW_v2_1&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BO_</span>  <span class="s2">&quot;GenMsgILSupport&quot;</span> <span class="n">ENUM</span>  <span class="s2">&quot;No&quot;</span><span class="p">,</span><span class="s2">&quot;Yes&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">BO_</span>  <span class="s2">&quot;GenMsgStartDelayTime&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">65535</span><span class="p">;</span>
<span class="n">BA_DEF_</span>  <span class="s2">&quot;BusType&quot;</span> <span class="n">STRING</span> <span class="p">;</span>
<span class="n">BA_DEF_</span> <span class="n">SG_</span>  <span class="s2">&quot;SystemSignalLongSymbol&quot;</span> <span class="n">STRING</span> <span class="p">;</span>
<span class="n">BA_DEF_REL_</span> <span class="n">BU_SG_REL_</span>  <span class="s2">&quot;GenSigTimeoutTime&quot;</span> <span class="n">INT</span> <span class="mi">0</span> <span class="mi">10000000</span><span class="p">;</span>
<span class="n">BA_DEF_REL_</span> <span class="n">BU_SG_REL_</span>  <span class="s2">&quot;GenSigTimeoutMsg&quot;</span> <span class="n">HEX</span> <span class="mi">0</span> <span class="mi">2047</span><span class="p">;</span>


<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;NmMessage&quot;</span> <span class="s2">&quot;No&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;DiagState&quot;</span> <span class="s2">&quot;No&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;DiagRequest&quot;</span> <span class="s2">&quot;No&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;DiagResponse&quot;</span> <span class="s2">&quot;No&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenMsgSendType&quot;</span> <span class="s2">&quot;Cycle&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenMsgCycleTime&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenSigSendType&quot;</span> <span class="s2">&quot;Cycle&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenSigStartValue&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenSigInactiveValue&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenMsgCycleTimeFast&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenMsgNrOfRepetition&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenMsgDelayTime&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;DBName&quot;</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;NodeLayerModules&quot;</span> <span class="s2">&quot;CANoeILNLVector.dll&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenSigTimeoutValue&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenMsgCycleTimeActive&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;ILUsed&quot;</span> <span class="s2">&quot;No&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;TpNodeBaseAddress&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;TpTxIdentifier&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;TpRxIdentifier&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;TpRxMask&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;TpCanBus&quot;</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;TpTxAdrMode&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;TpAddressExtension&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;TpSTMin&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;TpBlockSize&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;TpAddressingMode&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;TpTargetAddress&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;TpUseFC&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;DiagStationAddress&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;NmNode&quot;</span> <span class="s2">&quot;Not&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;NmStationAddress&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;NmCAN&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;Manufacturer&quot;</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;VersionYear&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;VersionMonth&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;VersionWeek&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;VersionDay&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;VersionNumber&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;TpBaseAddress&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;NmType&quot;</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;NmBaseAddress&quot;</span> <span class="mi">1024</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;NmMessageCount&quot;</span> <span class="mi">128</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;_Cdb_Sc_CTm_FAW_v3_0&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;_Cdb_Sc_CTm_FAW_v2_3&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;_Cdb_Sc_CTm_FAW_v3_1&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenEnvAutoGenCtrl&quot;</span> <span class="s2">&quot;No&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenEnvMsgOffset&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenEnvMsgName&quot;</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenEnvIsGeneratedSnd&quot;</span> <span class="s2">&quot;No&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenSigEnvVarType&quot;</span> <span class="s2">&quot;undef&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenEnvVarPrefix&quot;</span> <span class="s2">&quot;Env&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenEnvVarEndingSnd&quot;</span> <span class="s2">&quot;_&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenEnvVarEndingDsp&quot;</span> <span class="s2">&quot;Dsp_&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;_Cdb_Sc_CTm_FAW_v2_2&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;_Cdb_Sc_CTm_FAW_v2_1&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenMsgILSupport&quot;</span> <span class="s2">&quot;No&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;GenMsgStartDelayTime&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;BusType&quot;</span> <span class="s2">&quot;CAN&quot;</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_REL_</span> <span class="s2">&quot;GenSigTimeoutTime&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_REL_</span> <span class="s2">&quot;GenSigTimeoutMsg&quot;</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">BA_DEF_DEF_</span>  <span class="s2">&quot;SystemSignalLongSymbol&quot;</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;DBName&quot;</span> <span class="s2">&quot;CAN1&quot;</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;NmMessage&quot;</span> <span class="n">BO_</span> <span class="mi">1036</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;GenMsgCycleTime&quot;</span> <span class="n">BO_</span> <span class="mi">1036</span> <span class="mi">100</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;NmMessage&quot;</span> <span class="n">BO_</span> <span class="mi">1050</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;GenMsgCycleTime&quot;</span> <span class="n">BO_</span> <span class="mi">1050</span> <span class="mi">100</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;GenMsgCycleTime&quot;</span> <span class="n">BO_</span> <span class="mi">1562</span> <span class="mi">1000</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;DiagState&quot;</span> <span class="n">BO_</span> <span class="mi">2003</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;DiagRequest&quot;</span> <span class="n">BO_</span> <span class="mi">2003</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;GenMsgSendType&quot;</span> <span class="n">BO_</span> <span class="mi">2003</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;GenSigSendType&quot;</span> <span class="n">SG_</span> <span class="mi">2003</span> <span class="n">TEST_EPB_DiagReq</span> <span class="mi">2</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;DiagState&quot;</span> <span class="n">BO_</span> <span class="mi">2011</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;DiagResponse&quot;</span> <span class="n">BO_</span> <span class="mi">2011</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;GenMsgSendType&quot;</span> <span class="n">BO_</span> <span class="mi">2011</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;GenSigSendType&quot;</span> <span class="n">SG_</span> <span class="mi">2011</span> <span class="n">EPB_DiagResp</span> <span class="mi">2</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;DiagState&quot;</span> <span class="n">BO_</span> <span class="mi">2015</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;DiagRequest&quot;</span> <span class="n">BO_</span> <span class="mi">2015</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;GenMsgSendType&quot;</span> <span class="n">BO_</span> <span class="mi">2015</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;GenSigSendType&quot;</span> <span class="n">SG_</span> <span class="mi">2015</span> <span class="n">TEST_Func_DiagReq</span> <span class="mi">2</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;GenMsgCycleTime&quot;</span> <span class="n">BO_</span> <span class="mi">530</span> <span class="mi">50</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;GenMsgCycleTime&quot;</span> <span class="n">BO_</span> <span class="mi">784</span> <span class="mi">100</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;GenMsgCycleTime&quot;</span> <span class="n">BO_</span> <span class="mi">791</span> <span class="mi">100</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;GenMsgCycleTime&quot;</span> <span class="n">BO_</span> <span class="mi">796</span> <span class="mi">100</span><span class="p">;</span>
<span class="n">BA_</span> <span class="s2">&quot;GenMsgCycleTime&quot;</span> <span class="n">BO_</span> <span class="mi">852</span> <span class="mi">100</span><span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">852</span> <span class="n">OBC_StartStatus</span> <span class="mi">1</span> <span class="s2">&quot;Start Charging&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Stop Charging&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">852</span> <span class="n">OBC_SystemFailure</span> <span class="mi">1</span> <span class="s2">&quot;Failure&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Nomal&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">852</span> <span class="n">OBC_AC_Input220VoltageSupply</span> <span class="mi">1</span> <span class="s2">&quot;Supply&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Not Supply&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">852</span> <span class="n">OBC_DC_OutputVoltage</span> <span class="mi">65535</span> <span class="s2">&quot;Invalid&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">852</span> <span class="n">OBC_DC_OutputCurrent</span> <span class="mi">255</span> <span class="s2">&quot;Invalid&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">852</span> <span class="n">OBC_Temperature</span> <span class="mi">255</span> <span class="s2">&quot;Invalid&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">1050</span> <span class="n">OBC_SleepConditionsReady</span> <span class="mi">1</span> <span class="s2">&quot;Active&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Inactive&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">1050</span> <span class="n">OBC_Stayawake_reasons1_InputVoltage</span> <span class="mi">1</span> <span class="s2">&quot;Active&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Inactive&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">1050</span> <span class="n">OBC_Stayawake_reasons2_LowBatteryCharging</span> <span class="mi">1</span> <span class="s2">&quot;Active&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Inactive&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">1050</span> <span class="n">OBC_BCUSleepConditionsNotReady</span> <span class="mi">1</span> <span class="s2">&quot;Active&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Inactive&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">1562</span> <span class="n">OBC_OutputOvervoltageFault</span> <span class="mi">1</span> <span class="s2">&quot;Failure&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Nomal&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">1562</span> <span class="n">OBC_OutputOvervoltageLowFault</span> <span class="mi">1</span> <span class="s2">&quot;Failure&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Nomal&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">1562</span> <span class="n">OBC_OutputShortCircuitFault</span> <span class="mi">1</span> <span class="s2">&quot;Failure&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Nomal&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">1562</span> <span class="n">OBC_TemperatureTooHighFault</span> <span class="mi">1</span> <span class="s2">&quot;Failure&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Nomal&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">1562</span> <span class="n">OBC_LowTemperatureShutdownFault</span> <span class="mi">1</span> <span class="s2">&quot;Failure&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Nomal&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">1562</span> <span class="n">OBC_AC_Input220VoltageFault</span> <span class="mi">1</span> <span class="s2">&quot;Failure&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Nomal&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">1562</span> <span class="n">OBC_OutputOverCurrentProtection</span> <span class="mi">1</span> <span class="s2">&quot;Failure&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Nomal&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">1562</span> <span class="n">OBC_LossCommunicationWithBCU</span> <span class="mi">1</span> <span class="s2">&quot;Failure&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Nomal&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">1562</span> <span class="n">OBC_BusOff</span> <span class="mi">1</span> <span class="s2">&quot;Failure&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Nomal&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">784</span> <span class="n">VCU_VehicleOpratingMode</span> <span class="mi">3</span> <span class="s2">&quot;Reserved&quot;</span> <span class="mi">2</span> <span class="s2">&quot;On-Board Charging Mode&quot;</span> <span class="mi">1</span> <span class="s2">&quot;Driving Mode&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Stop Mode&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">784</span> <span class="n">VCU_LowBatteryChargingFunctionState</span> <span class="mi">3</span> <span class="s2">&quot;Invalid&quot;</span> <span class="mi">2</span> <span class="s2">&quot;Stop&quot;</span> <span class="mi">1</span> <span class="s2">&quot;Start&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Reserved&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">791</span> <span class="n">BCU_ChargeControlStatus</span> <span class="mi">1</span> <span class="s2">&quot;Request Charging&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Stop Charging&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">791</span> <span class="n">BCU_CurrentChargeState</span> <span class="mi">3</span> <span class="s2">&quot;Invalid&quot;</span> <span class="mi">2</span> <span class="s2">&quot;Finish&quot;</span> <span class="mi">1</span> <span class="s2">&quot;Charging&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Initial States&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">791</span> <span class="n">BCU_ChargingVoltageSet</span> <span class="mi">65535</span> <span class="s2">&quot;Invalid&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">791</span> <span class="n">BCU_ChargingCurrentSet</span> <span class="mi">255</span> <span class="s2">&quot;Invalid&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">796</span> <span class="n">BCU_OBCSleepConditionsReady</span> <span class="mi">1</span> <span class="s2">&quot;Active&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Inactive&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">530</span> <span class="n">BCM_PowerMode</span> <span class="mi">7</span> <span class="s2">&quot;Reserved&quot;</span> <span class="mi">6</span> <span class="s2">&quot;Reserved&quot;</span> <span class="mi">5</span> <span class="s2">&quot;Reserved&quot;</span> <span class="mi">4</span> <span class="s2">&quot;Reserved&quot;</span> <span class="mi">3</span> <span class="s2">&quot;Reserved&quot;</span> <span class="mi">2</span> <span class="s2">&quot;ON&quot;</span> <span class="mi">1</span> <span class="s2">&quot;ACC&quot;</span> <span class="mi">0</span> <span class="s2">&quot;OFF&quot;</span> <span class="p">;</span>
<span class="n">VAL_</span> <span class="mi">1036</span> <span class="n">BCM_SleepCommand</span> <span class="mi">1</span> <span class="s2">&quot;Active&quot;</span> <span class="mi">0</span> <span class="s2">&quot;Inactive&quot;</span> <span class="p">;</span>
</pre></div>
</div>
<p>既然是CAN仿真工具，第一篇就讲一下CAN DBC的格式，
如何通过dbc文件定位到需要的信号。
下面用到的所有定义都已经做过处理,不涉及任何商业使用的数据。</p>
<p>各个CAN工具公司都有CANDBC的编辑与查看工具并且都很智能,
比如Vector的CANOE跟 CAN Alyzer或者intrepidcs的工具都有dbc的工具。
那么问题来了，为啥我们还要人工去看看怎么解析,
因为我们要做的是自己的CAN工具，CAN dbc 的各种操作都需要自己去实现 ，
所以这篇文章就是介绍如何用肉眼去解析CAN dbc，有了人工解析的能力，
使用代码解析就手到擒来了。</p>
<p>针对一个信号无非是以下几个内容:</p>
<ol class="arabic simple">
<li><p>信号所在的MessageID与名字，每个信号都依附于一个MeesageID；</p></li>
<li><p>信号的名字，这个信号叫什么名字，有时候信号名字会有变化；</p></li>
<li><p>信号的开始位置与长度，及时信号名变化，只要信号的位置与长度不变就不影响该信号的值；</p></li>
<li><dl class="simple">
<dt>信号的Factor与Offset，由于每个CAN message包含64bit的数据，</dt><dd><p>只能表示整型，但是汽车中有很多物理量是需要小数点及负数的 ，
比如温度，-40度-+40度。因此需要引入factor和offset的概念，
在计算物理值的时候需要用以下公式计算：
raw_value*Factor+Offset=Py_value
有时候我们需要计算某个物理值对应的rawvalue，
简单的解方程就能得到raw_value.；</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>信号的值列表，有些信号为枚举类型，比如车辆的Ignition信号，会有启动，</dt><dd><p>OFF不同的状态，对应不同的raw value，包括物理值，
也会有invalid，Error等特殊状态，在使用解析的时候都需要关注；</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>极大值，极小值,一般根据信号的字节长度，跟Factor和Offset就可以</dt><dd><p>计算出来，没什么实际作用；</p>
</dd>
</dl>
</li>
<li><p>信号的说明，描述说明信号是个什么东西，比如这个信号是车速之类的 ；</p></li>
</ol>
<p>下面介绍如何从DBC里面找到上面这些信息：</p>
<div class="section" id="version">
<h3><span class="section-number">6.1. </span>VERSION版本<a class="headerlink" href="#version" title="Permalink to this headline">¶</a></h3>
<p>信息可以为空，也可以由用户自定定义；</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VERSION</span> <span class="s2">&quot;&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="ns">
<h3><span class="section-number">6.2. </span>NS新符号<a class="headerlink" href="#ns" title="Permalink to this headline">¶</a></h3>
<p>New Symbol
信息在我们创建dbc文件时就已经自动生成；
所以这一部分的信息我们无需过多留意，一般默认即可。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">NS_</span><span class="p">:</span>
</pre></div>
</div>
</div>
<div class="section" id="bs">
<h3><span class="section-number">6.3. </span>BS波特率<a class="headerlink" href="#bs" title="Permalink to this headline">¶</a></h3>
<p>格式如下：</p>
<p><strong>BS_:[baudrate:BTR1,BTR2];</strong></p>
<p>其中BS为关键字，用于定义CAN网络的波特率；
[ ]内容表示为可选部分，可以省略（如下图例子中即把该部分省略了）；
但关键字”BS:”必须存在，省略则会出错。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BS_</span><span class="p">:</span>
</pre></div>
</div>
</div>
<div class="section" id="bu">
<h3><span class="section-number">6.4. </span>BU网络节点<a class="headerlink" href="#bu" title="Permalink to this headline">¶</a></h3>
<p>格式如下：</p>
<p><strong>BU_:Nodename1 Nodename2 Nodename3 ……</strong></p>
<p>其中BU_为关键字，表示网络节点，格式中的Nodename1、
Nodename2表示定义的网络节点名字，由用户自己定义；
但需保证节点命名的唯一性。</p>
<p>如:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>BU_: AVNT ACU HUD ：表示定义了AVNT、ACU、HUD这三个网络节点。
</pre></div>
</div>
<p>第一步，需要知道开头两个字符的定义</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Keyword</p></th>
<th class="head"><p>Object Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BU</p></td>
<td><p>Network Node 网络节点</p></td>
</tr>
<tr class="row-odd"><td><p>BO</p></td>
<td><p>Message 消息</p></td>
</tr>
<tr class="row-even"><td><p>SG</p></td>
<td><p>Signal 信号</p></td>
</tr>
<tr class="row-odd"><td><p>EV</p></td>
<td><p>Environment Varialbe 环境变量</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="bo">
<h3><span class="section-number">6.5. </span>BO报文<a class="headerlink" href="#bo" title="Permalink to this headline">¶</a></h3>
<p>第二步，找到Message，message都是以BO开头，
格式如下，从这里我们可以得到上面所述的信息1：</p>
<p><strong>message = BO_ message_id message_name ‘:’ message_size transmitter {signal};</strong></p>
<p>例如：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>BO_ 112 BCM_Mesage1: 8 BCM

“BO_ ” 起始字符串，代表这一行为定义一个Message
“112”  为10进制的Message ID
“BCM_Message1” 为Message的名字
“：” 分割符
“8” message 有多少个byte，一般为8个byte， 64 bit
“BCM” 消息的发送者
</pre></div>
</div>
</div>
<div class="section" id="sg">
<h3><span class="section-number">6.6. </span>SG 信号<a class="headerlink" href="#sg" title="Permalink to this headline">¶</a></h3>
<p>第三步，找到signal， 格式如下，在这个里面我们可以找到大部分的信息：</p>
<p><strong>signal = ‘SG_’ signal_name multiplexer_indicator ‘:’ start_bit ‘|’ signal_size ‘&#64;’ byte_order value_type ‘(‘factor’,’offset’)’ ‘{‘ minimum ‘|’ maximum ‘|’ unit receiver {‘,’ receiver};</strong></p>
<p>例如：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>BO_ 100 BCM_Message1: 8 BCM     //这一行为Message
SG_ Ignition_Status : 13|4@0+ (1,0) [0|0] &quot;SED&quot;  GW  //以下为依附于该Message的Signal
SG_ Veh_V : 27|12@0+ (0.1,0) [0|409.5] &quot;0 to 409.5 kilometers per hour&quot;  ECM

“SG_” 该行为信号
“Ignition_Status” : 信号名为IgnitionStatus
“：13” 冒号后面第一位是起始位置
“|4” |后面的值，代表信号长度为4个bit
“@0+”  0 代表 byte_order = &#39;0&#39; | &#39;1&#39; ; (* 0=little endian, 1=big endian *)， +号代表有无符号，value_type = &#39;+&#39; | &#39;-&#39; ; (* +=unsigned, -=signed *)
“（1,0）” 小括号的值代表Factor和Offset，用于计算
“[0|0]” 中括号的值代表最大值与最小值
“SED” 代表单位，SED一般代表没有单位，因为这个值是一个枚举状态
“GW” 最后的GW代表接受的节点
</pre></div>
</div>
</div>
<div class="section" id="val">
<h3><span class="section-number">6.7. </span>VAL数值表<a class="headerlink" href="#val" title="Permalink to this headline">¶</a></h3>
<p>第三步，找到信号的枚举状态，该行为一堆键值对，不同的值代表什么意思</p>
<p><strong>value_descriptions_for_signal = ‘VAL_’ message_id signa_name { value_description } ‘;’;</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>VAL_ 100  Ignition_Status 15 &quot;Invalid&quot; 8 &quot;Start&quot; 4 &quot;Run&quot; 2 &quot;Off&quot; 0 &quot;Unknown&quot; ;
“VAL_” 代表该行定义了一堆键值对，信号的值与内容
“100” 与之前的MessageID一致， 代表信号所在的Message
“Ignition_Status” 信号的名字
“15 &#39;Invalid&#39;” 数值15代表invalid，其他都一样
</pre></div>
</div>
</div>
<div class="section" id="ba">
<h3><span class="section-number">6.8. </span>BA 属性定义<a class="headerlink" href="#ba" title="Permalink to this headline">¶</a></h3>
<p>BA开头定义了信号的属性，比如发送周期什么的</p>
<dl>
<dt>属性定义部分</dt><dd><p>格式如下：</p>
<p><strong>BA_DEF_  Object  AttributeName  ValueType  Min  Max;</strong></p>
<p><strong>BA_DEF_DEF_  AttributeName  DefaultValue;</strong></p>
<ol class="arabic simple">
<li><p>BA_DEF_为关键字，表示属性定义；</p></li>
<li><p>Object表示属性定义的对象类型，可以是节点“BU”、报文“BO”、消息”SG”、网络节点” ”（用空格表示）等；</p></li>
<li><p>AttributeName表示进行定义的属性名字；</p></li>
<li><p>ValueType表示属性值的类型，可以是整型、字符串、浮点型、枚举类型等；</p></li>
<li><p>Min/Max表示属性值的上下最值，即指定了取值范围（字符串类型没有此项）。</p></li>
<li><p>BA_DEF_DEF_为关键字，表示定义属性的初始值；</p></li>
<li><p>DefaultValue表示该属性的初始值。</p></li>
</ol>
<p>如</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>BA_DEF_ SG_  “MyTry” INT 0 11;
BA_DEF_DEF_  “MyTry” 0;
</pre></div>
</div>
<p>表示对定义了一个针对信号类型的属性，属性名为”MyTry”，属性值是整型数据，取值范围在0到11之间，初始值为0。</p>
</dd>
</dl>
</div>
<div class="section" id="cm">
<h3><span class="section-number">6.9. </span>CM 注解<a class="headerlink" href="#cm" title="Permalink to this headline">¶</a></h3>
<p>格式如下：
<strong>CM_  Object  MessageId/NodeName  “Comment”</strong></p>
<ol class="arabic simple">
<li><p>CM_为关键字，表示注解信息；</p></li>
<li><p>Object表示进行注解的对象类型，可以是节点“BU”、报文“BO”、消息”SG”；</p></li>
<li><p>MessageId/NodeName 表示进行注解的对象，若前面的对象类型是信号或者报文，则这里的值应为报文的ID（10进制数表示）；若前面的对象类型为节点，则这里的值应为节点的名字；</p></li>
<li><p>Comment表示进行注解的文本信息；</p></li>
</ol>
<p>如:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>CM_ SG_ 996 HUD_HeightLv “Control hud height level”;
表示对ID为996(0x3E4)这条报文下的名为”HUD_HeightLv ”的信号进行注解说明，说明的内容为&quot;Control hud height level&quot;。
</pre></div>
</div>
<p>如:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>CM_ BU_ HUD “Head Up Display&quot;;表示对HUD这个节点进行注解说明，说明的内容为&quot; Head Up Display &quot;。
</pre></div>
</div>
<p><strong>BA_ “GenMsgCycleTime” BO_ 100 60; 代表信号为100的发送周期为60ms</strong></p>
<p><a class="reference external" href="https://blog.csdn.net/weixin_44536482/article/details/89030152">https://blog.csdn.net/weixin_44536482/article/details/89030152</a></p>
</div>
<div class="section" id="id1">
<h3><span class="section-number">6.10. </span>参考<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>《DBC_File_Format_Documentation.pdf》</p>
</div>
<div class="section" id="python-bu">
<h3><span class="section-number">6.11. </span>python 网络节点解析BU<a class="headerlink" href="#python-bu" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BU_</span><span class="p">:</span> <span class="n">AC</span> <span class="n">BCM</span> <span class="n">BCU</span> <span class="n">DCM</span> <span class="n">EPB</span> <span class="n">EPS</span> <span class="n">HMI</span> <span class="n">MCU</span> <span class="n">OBC</span> <span class="n">TESTER</span> <span class="n">VCU</span>
</pre></div>
</div>
<p>策略：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>找出BU_:关键字所在行，以空格为分割提取出字符
</pre></div>
</div>
</div>
<div class="section" id="can-rx-c">
<h3><span class="section-number">6.12. </span>can_rx.c<a class="headerlink" href="#can-rx-c" title="Permalink to this headline">¶</a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&quot;can_rx.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;can_comm.h&quot;</span><span class="cp"></span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">id318_rx_handle</span><span class="p">(</span><span class="n">u_unit_t</span> <span class="n">addr</span><span class="p">,</span> <span class="n">u_unit_t</span> <span class="n">len</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">u32_t</span> <span class="n">i</span><span class="p">;</span>

    <span class="n">i</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>


<span class="k">static</span> <span class="k">struct</span> <span class="nc">can_comm_msg_t</span> <span class="n">can_rx_msg</span><span class="p">[]</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="n">CAN_FRAME_MSG</span><span class="p">(</span><span class="mh">0x318</span><span class="p">,</span> <span class="n">STANDARD_FRAME</span><span class="p">,</span> <span class="n">DATA_FRAME</span><span class="p">,</span> <span class="mi">8U</span><span class="p">,</span> <span class="n">T_NORMAL</span><span class="p">,</span> <span class="n">NORMAL_MODE</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">id318_rx_handle</span><span class="p">),</span> <span class="c1">//TEST_RX_MSG_IDX1</span>
    <span class="n">CAN_FRAME_MSG</span><span class="p">(</span><span class="mh">0x3c0</span><span class="p">,</span> <span class="n">STANDARD_FRAME</span><span class="p">,</span> <span class="n">DATA_FRAME</span><span class="p">,</span> <span class="mi">8U</span><span class="p">,</span> <span class="n">T_NORMAL</span><span class="p">,</span> <span class="n">NORMAL_MODE</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">),</span> <span class="c1">//TEST_RX_MSG_IDX2</span>
<span class="p">};</span>


<span class="kt">void</span> <span class="nf">can_rx_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">can_rx_msg</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="nc">can_comm_t</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">can_comm_index_t</span> <span class="n">idx</span> <span class="o">=</span> <span class="n">can_comm_add</span><span class="p">(</span><span class="o">&amp;</span><span class="n">can_rx_msg</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">msg</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">idx</span> <span class="o">!=</span> <span class="n">CAN_COMM_INVALD_IDX</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">can_rx_msg</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">idx</span> <span class="o">=</span> <span class="n">idx</span><span class="p">;</span>
                    <span class="n">can_set_filter</span><span class="p">(</span><span class="n">can_rx_msg</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">msg</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="n">can_rx_msg</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">msg</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">rtr</span><span class="p">,</span> <span class="n">can_rx_msg</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">msg</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">ide</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="nf">can_rx_get_test1</span><span class="p">(</span><span class="n">u8_t</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">u8_t</span> <span class="o">*</span><span class="n">len</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">can_comm_get_data</span><span class="p">(</span><span class="n">can_rx_msg</span><span class="p">[</span><span class="n">TEST_RX_MSG_IDX1</span><span class="p">].</span><span class="n">idx</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">len</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="can-rx-h">
<h3><span class="section-number">6.13. </span>can_rx.h<a class="headerlink" href="#can-rx-h" title="Permalink to this headline">¶</a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#ifndef __CAN_RX_H__</span>
<span class="cp">#define __CAN_RX_H__</span>

<span class="cp">#include</span> <span class="cpf">&quot;std_type.h&quot;</span><span class="cp"></span>

<span class="cp">#define TEST_RX_MSG_IDX1   0</span>
<span class="cp">#define TEST_RX_MSG_IDX2   1</span>


<span class="kt">void</span> <span class="nf">can_rx_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">can_rx_get_test1</span><span class="p">(</span><span class="n">u8_t</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">u8_t</span> <span class="o">*</span><span class="n">len</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">can_rx_get_test2</span><span class="p">(</span><span class="n">u8_t</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">u8_t</span> <span class="o">*</span><span class="n">len</span><span class="p">);</span>
<span class="cp">#endif</span>
</pre></div>
</div>
</div>
<div class="section" id="can-tx-c">
<h3><span class="section-number">6.14. </span>can_tx.c<a class="headerlink" href="#can-tx-c" title="Permalink to this headline">¶</a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&quot;can_tx.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;can_comm.h&quot;</span><span class="cp"></span>

<span class="k">static</span> <span class="k">struct</span> <span class="nc">can_comm_msg_t</span> <span class="n">can_tx_msg</span><span class="p">[]</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="n">CAN_FRAME_MSG</span><span class="p">(</span><span class="mh">0x33</span><span class="p">,</span> <span class="n">STANDARD_FRAME</span><span class="p">,</span> <span class="n">DATA_FRAME</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">T_NORMAL</span><span class="p">,</span> <span class="n">REVERSE_MODE</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">),</span> <span class="c1">//TEST_TX_MSG_IDX1</span>
    <span class="n">CAN_FRAME_MSG</span><span class="p">(</span><span class="mh">0x34</span><span class="p">,</span> <span class="n">STANDARD_FRAME</span><span class="p">,</span> <span class="n">DATA_FRAME</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">T_PERIOD</span><span class="p">,</span> <span class="n">NORMAL_MODE</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">),</span> <span class="c1">//TEST_TX_MSG_IDX2</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="nf">can_tx_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">can_tx_msg</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="nc">can_comm_t</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">can_comm_index_t</span> <span class="n">idx</span> <span class="o">=</span> <span class="n">can_comm_add</span><span class="p">(</span><span class="o">&amp;</span><span class="n">can_tx_msg</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">msg</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">idx</span> <span class="o">!=</span> <span class="n">CAN_COMM_INVALD_IDX</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">can_tx_msg</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">idx</span> <span class="o">=</span> <span class="n">idx</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">can_tx_set_test1</span><span class="p">(</span><span class="n">u8_t</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">u32_t</span> <span class="n">len</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">can_comm_set_data</span><span class="p">(</span><span class="n">can_tx_msg</span><span class="p">[</span><span class="n">TEST_TX_MSG_IDX1</span><span class="p">].</span><span class="n">idx</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">len</span><span class="p">);</span>
    <span class="n">can_comm_start_send</span><span class="p">(</span><span class="n">can_tx_msg</span><span class="p">[</span><span class="n">TEST_TX_MSG_IDX1</span><span class="p">].</span><span class="n">idx</span><span class="p">);</span>
<span class="p">}</span>



<span class="kt">void</span> <span class="nf">can_tx_set_test2</span><span class="p">(</span><span class="n">u8_t</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">u32_t</span> <span class="n">len</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">can_comm_set_data</span><span class="p">(</span><span class="n">can_tx_msg</span><span class="p">[</span><span class="n">TEST_TX_MSG_IDX2</span><span class="p">].</span><span class="n">idx</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">len</span><span class="p">);</span>
    <span class="n">can_comm_start_send</span><span class="p">(</span><span class="n">can_tx_msg</span><span class="p">[</span><span class="n">TEST_TX_MSG_IDX2</span><span class="p">].</span><span class="n">idx</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="can-tx-h">
<h3><span class="section-number">6.15. </span>can_tx.h<a class="headerlink" href="#can-tx-h" title="Permalink to this headline">¶</a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#ifndef __CAN_TX_H__</span>
<span class="cp">#define __CAN_TX_H__</span>

<span class="cp">#include</span> <span class="cpf">&quot;std_type.h&quot;</span><span class="cp"></span>

<span class="cp">#define TEST_TX_MSG_IDX1   0</span>
<span class="cp">#define TEST_TX_MSG_IDX2   1</span>

<span class="kt">void</span> <span class="nf">can_tx_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">can_tx_set_test1</span><span class="p">(</span><span class="n">u8_t</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">u32_t</span> <span class="n">len</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">can_tx_set_test2</span><span class="p">(</span><span class="n">u8_t</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">u32_t</span> <span class="n">len</span><span class="p">);</span>

<span class="cp">#endif</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3><span class="section-number">6.16. </span>策略<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>打开DBC</p>
<p>解析出文件中所有的
Network Node
Message</p>
</div>
<div class="section" id="id3">
<h3><span class="section-number">6.17. </span>帧配置<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Message ID</p></li>
<li><dl class="simple">
<dt>帧类型</dt><dd><ul>
<li><p>DATA_FRAME</p></li>
<li><p>REMOTE_FRAME</p></li>
<li><p><a class="reference external" href="https://blog.csdn.net/weixin_37787043/article/details/80906905">https://blog.csdn.net/weixin_37787043/article/details/80906905</a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>帧格式</dt><dd><ul>
<li><p>EXTEND_FRAME</p></li>
<li><p>STANDARD_FRAME</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>CAN类型</dt><dd><ul>
<li><p>T_NORMAL</p></li>
<li><p>T_PHY_DIAG_REQ</p></li>
<li><p>T_FUNC_DIAG_REQ</p></li>
<li><p>T_DIAG_RESP</p></li>
<li><p>T_NM</p></li>
<li><p>T_PERIOD</p></li>
<li><p>T_MI</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>发送报文模式</dt><dd><ul>
<li><p>NORMAL_MODE</p></li>
<li><p>REVERSE_MODE</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>发送次数</p></li>
<li><p>发送周期</p></li>
</ul>
</div>
<div class="section" id="id4">
<h3><span class="section-number">6.18. </span>can_rx.c策略<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p><strong>rxdata1.c</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&quot;can_rx.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;can_comm.h&quot;</span><span class="cp"></span>
</pre></div>
</div>
<p><strong>ui处理</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span> <span class="kt">void</span> <span class="n">id318_rx_handle</span><span class="p">(</span><span class="n">u_unit_t</span> <span class="n">addr</span><span class="p">,</span> <span class="n">u_unit_t</span> <span class="n">len</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>rxdata2.c</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="n">u32_t</span> <span class="n">i</span><span class="p">;</span>

<span class="n">i</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>rxdata3.c</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span> <span class="k">struct</span> <span class="nc">can_comm_msg_t</span> <span class="n">can_rx_msg</span><span class="p">[]</span> <span class="o">=</span>
<span class="p">{</span>
</pre></div>
</div>
<p><strong>ui处理</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">CAN_FRAME_MSG</span><span class="p">(</span><span class="mh">0x318</span><span class="p">,</span> <span class="n">STANDARD_FRAME</span><span class="p">,</span> <span class="n">DATA_FRAME</span><span class="p">,</span> <span class="mi">8U</span><span class="p">,</span> <span class="n">T_NORMAL</span><span class="p">,</span> <span class="n">NORMAL_MODE</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">id318_rx_handle</span><span class="p">),</span> <span class="c1">//TEST_RX_MSG_IDX1</span>
</pre></div>
</div>
<p><strong>rxdata4.c</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="p">};</span>


<span class="kt">void</span> <span class="nf">can_rx_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">can_rx_msg</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="nc">can_comm_t</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">can_comm_index_t</span> <span class="n">idx</span> <span class="o">=</span> <span class="n">can_comm_add</span><span class="p">(</span><span class="o">&amp;</span><span class="n">can_rx_msg</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">msg</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">idx</span> <span class="o">!=</span> <span class="n">CAN_COMM_INVALD_IDX</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">can_rx_msg</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">idx</span> <span class="o">=</span> <span class="n">idx</span><span class="p">;</span>
                    <span class="n">can_set_filter</span><span class="p">(</span><span class="n">can_rx_msg</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">msg</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="n">can_rx_msg</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">msg</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">rtr</span><span class="p">,</span> <span class="n">can_rx_msg</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">msg</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">ide</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<span id="document-usage/docker"></span><div class="section" id="docker">
<h2><span class="section-number">7. </span>docker<a class="headerlink" href="#docker" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://www.runoob.com/docker/docker-container-connection.html">https://www.runoob.com/docker/docker-container-connection.html</a></p>
<p>docker login</p>
<p>docker logout</p>
<p>docker images</p>
<p>docker ps
docker run -it bonaventureli/ubuntu:apache2 /bin/bash</p>
<p>docker run -p 80:80 -d httpd
docker stop interesting_mendel</p>
<p>docker run -d -P training/webapp python app.py</p>
<p>apache2
apt install net-tools
apt install iputils-ping</p>
</div>
<div class="section" id="nginx">
<h2><span class="section-number">8. </span>nginx<a class="headerlink" href="#nginx" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ docker pull nginx
$ docker run --name nginx-test -p 8080:80 -d nginx
</pre></div>
</div>
<p>参数说明：</p>
<ul class="simple">
<li><p>–name nginx-test：容器名称。</p></li>
<li><p>-p 8080:80： 端口进行映射，将本地 8080 端口映射到容器内部的 80 端口。</p></li>
<li><p>-d nginx： 设置容器在在后台一直运行。</p></li>
</ul>
<p>docker-machine ip</p>
</div>
<span id="document-usage/windows"></span><div class="section" id="windowsweb">
<h2><span class="section-number">9. </span>windows搭建web<a class="headerlink" href="#windowsweb" title="Permalink to this headline">¶</a></h2>
<div class="section" id="windows-iis">
<h3><span class="section-number">9.1. </span>启用Windows 的iis服务<a class="headerlink" href="#windows-iis" title="Permalink to this headline">¶</a></h3>
<p>控制面版-程序-启用或关闭Windows功能-Internet information services的内容全部打钩。</p>
<img alt="_images/1.png" src="_images/1.png" />
<p>开启完成后，在浏览器中输入网址http://localhost，显示下面图片表示开启成功</p>
<img alt="_images/localhost.png" src="_images/localhost.png" />
</div>
<div class="section" id="iis">
<h3><span class="section-number">9.2. </span>部署iis<a class="headerlink" href="#iis" title="Permalink to this headline">¶</a></h3>
<p>打开iis管理工具</p>
<img alt="_images/iis.png" src="_images/iis.png" />
<p>待续…</p>
</div>
</div>
<span id="document-usage/embed"></span><div class="section" id="embed">
<h2><span class="section-number">10. </span>embed<a class="headerlink" href="#embed" title="Permalink to this headline">¶</a></h2>
<p>信号量互斥</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">take</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">gflag</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">gflag</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">continue</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nb">int</span> <span class="n">release</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">gflag</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">gflag</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<span id="document-usage/nrf52832"></span><div class="section" id="nrf52832">
<h2><span class="section-number">11. </span>nrf52832<a class="headerlink" href="#nrf52832" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://infocenter.nordicsemi.com/index.jsp?topic=%2Fstruct_nrf52%2Fstruct%2Fnrf52832.html&amp;cp=3_2">https://infocenter.nordicsemi.com/index.jsp?topic=%2Fstruct_nrf52%2Fstruct%2Fnrf52832.html&amp;cp=3_2</a></p>
<div class="section" id="uart-serial-port-emulation-over-ble">
<h3><span class="section-number">11.1. </span>UART/Serial Port Emulation over BLE<a class="headerlink" href="#uart-serial-port-emulation-over-ble" title="Permalink to this headline">¶</a></h3>
<p>This example requires one of the following SoftDevices: S132, S140</p>
<p>Important: Before you run this example, make sure to program the SoftDevice.</p>
<p>The Nordic UART Service (NUS) Application is an example that emulates a serial port over BLE. In the example, Nordic Semiconductor’s development board serves as a peer to the phone application “nRF UART”, which is available for iOS from App Store and for Android from Google Play. In addition, the example demonstrates how to use a proprietary (vendor-specific) service and characteristics with the SoftDevice.</p>
<p>The application includes one service: the Nordic UART Service.
The 128-bit vendor-specific UUID of the Nordic UART Service is 6E400001-B5A3-F393-E0A9-E50E24DCCA9E (16-bit offset: 0x0001).</p>
<p>This service exposes two characteristics: one for transmitting and one for receiving (as seen from the peer).</p>
<p><strong>RX Characteristic (UUID: 6E400002-B5A3-F393-E0A9-E50E24DCCA9E)</strong></p>
<p>The peer can send data to the device by writing to the RX Characteristic of the service. ATT Write Request or ATT Write Command can be used. The received data is sent on the UART interface.</p>
<p><strong>TX Characteristic (UUID: 6E400003-B5A3-F393-E0A9-E50E24DCCA9E)</strong></p>
<p>If the peer has enabled notifications for the TX Characteristic, the application can send data to the peer as notifications. The application will transmit all data received over UART as notifications.</p>
</div>
<div class="section" id="important-code-lines">
<h3><span class="section-number">11.2. </span>Important code lines<a class="headerlink" href="#important-code-lines" title="Permalink to this headline">¶</a></h3>
<p>The following sections describe some important parts of the example code.</p>
</div>
<div class="section" id="adding-proprietary-service-and-characteristics">
<h3><span class="section-number">11.3. </span>Adding proprietary service and characteristics<a class="headerlink" href="#adding-proprietary-service-and-characteristics" title="Permalink to this headline">¶</a></h3>
<p>The initialization of the proprietary service and its characteristics is done in ble_nus.c.</p>
<p>The Nordic UART Service is added to the SoftDevice as follows:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Add a custom base UUID.</span>
<span class="n">err_code</span> <span class="o">=</span> <span class="n">sd_ble_uuid_vs_add</span><span class="p">(</span><span class="o">&amp;</span><span class="n">nus_base_uuid</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">p_nus</span><span class="o">-&gt;</span><span class="n">uuid_type</span><span class="p">);</span>
<span class="n">VERIFY_SUCCESS</span><span class="p">(</span><span class="n">err_code</span><span class="p">);</span>

<span class="n">ble_uuid</span><span class="p">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">p_nus</span><span class="o">-&gt;</span><span class="n">uuid_type</span><span class="p">;</span>
<span class="n">ble_uuid</span><span class="p">.</span><span class="n">uuid</span> <span class="o">=</span> <span class="n">BLE_UUID_NUS_SERVICE</span><span class="p">;</span>

<span class="c1">// Add the service.</span>
<span class="n">err_code</span> <span class="o">=</span> <span class="n">sd_ble_gatts_service_add</span><span class="p">(</span><span class="n">BLE_GATTS_SRVC_TYPE_PRIMARY</span><span class="p">,</span>
                                    <span class="o">&amp;</span><span class="n">ble_uuid</span><span class="p">,</span>
                                    <span class="o">&amp;</span><span class="n">p_nus</span><span class="o">-&gt;</span><span class="n">service_handle</span><span class="p">);</span>
</pre></div>
</div>
<p>The TX characteristic is added to the SoftDevice as shown in the code below. The read and write permissions of the characteristic and its CCCD are set as open, which means that there are no security restrictions on this characteristic. The type of the UUID (add_char_params.uuid_type) is the value that was returned in the call to sd_ble_uuid_vs_add(). The RX characteristic is added in a similar way.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">memset</span><span class="p">(</span><span class="o">&amp;</span><span class="n">add_char_params</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">add_char_params</span><span class="p">));</span>
<span class="n">add_char_params</span><span class="p">.</span><span class="n">uuid</span>              <span class="o">=</span> <span class="n">BLE_UUID_NUS_TX_CHARACTERISTIC</span><span class="p">;</span>
<span class="n">add_char_params</span><span class="p">.</span><span class="n">uuid_type</span>         <span class="o">=</span> <span class="n">p_nus</span><span class="o">-&gt;</span><span class="n">uuid_type</span><span class="p">;</span>
<span class="n">add_char_params</span><span class="p">.</span><span class="n">max_len</span>           <span class="o">=</span> <span class="n">BLE_NUS_MAX_TX_CHAR_LEN</span><span class="p">;</span>
<span class="n">add_char_params</span><span class="p">.</span><span class="n">init_len</span>          <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">);</span>
<span class="n">add_char_params</span><span class="p">.</span><span class="n">is_var_len</span>        <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="n">add_char_params</span><span class="p">.</span><span class="n">char_props</span><span class="p">.</span><span class="n">notify</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="n">add_char_params</span><span class="p">.</span><span class="n">read_access</span>       <span class="o">=</span> <span class="n">SEC_OPEN</span><span class="p">;</span>
<span class="n">add_char_params</span><span class="p">.</span><span class="n">write_access</span>      <span class="o">=</span> <span class="n">SEC_OPEN</span><span class="p">;</span>
<span class="n">add_char_params</span><span class="p">.</span><span class="n">cccd_write_access</span> <span class="o">=</span> <span class="n">SEC_OPEN</span><span class="p">;</span>

<span class="k">return</span> <span class="nf">characteristic_add</span><span class="p">(</span><span class="n">p_nus</span><span class="o">-&gt;</span><span class="n">service_handle</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">add_char_params</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">p_nus</span><span class="o">-&gt;</span><span class="n">tx_handles</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="initializing-uart">
<h3><span class="section-number">11.4. </span>Initializing UART<a class="headerlink" href="#initializing-uart" title="Permalink to this headline">¶</a></h3>
<p>The initialization of the application and the handling of data sent and received through BLE and UART are done in main.c.</p>
<p>The UART initialization is done as shown in the code below. The code segment uses the UART module that is provided in the SDK to perform the UART configuration. Note that app_uart_comm_params_t configures the application to use hardware flow control. Therefore, RTS_PIN_NUMBER and CTS_PIN_NUMBER are used as Ready-to-Send and Clear-to-Send pins, respectively.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span> <span class="kt">void</span> <span class="n">uart_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">uint32_t</span>                     <span class="n">err_code</span><span class="p">;</span>
    <span class="n">app_uart_comm_params_t</span> <span class="k">const</span> <span class="n">comm_params</span> <span class="o">=</span>
    <span class="p">{</span>
        <span class="p">.</span><span class="n">rx_pin_no</span>    <span class="o">=</span> <span class="n">RX_PIN_NUMBER</span><span class="p">,</span>
        <span class="p">.</span><span class="n">tx_pin_no</span>    <span class="o">=</span> <span class="n">TX_PIN_NUMBER</span><span class="p">,</span>
        <span class="p">.</span><span class="n">rts_pin_no</span>   <span class="o">=</span> <span class="n">RTS_PIN_NUMBER</span><span class="p">,</span>
        <span class="p">.</span><span class="n">cts_pin_no</span>   <span class="o">=</span> <span class="n">CTS_PIN_NUMBER</span><span class="p">,</span>
        <span class="p">.</span><span class="n">flow_control</span> <span class="o">=</span> <span class="n">APP_UART_FLOW_CONTROL_DISABLED</span><span class="p">,</span>
        <span class="p">.</span><span class="n">use_parity</span>   <span class="o">=</span> <span class="nb">false</span><span class="p">,</span>
<span class="cp">#if defined (UART_PRESENT)</span>
        <span class="p">.</span><span class="n">baud_rate</span>    <span class="o">=</span> <span class="n">NRF_UART_BAUDRATE_115200</span>
<span class="cp">#else</span>
        <span class="p">.</span><span class="n">baud_rate</span>    <span class="o">=</span> <span class="n">NRF_UARTE_BAUDRATE_115200</span>
<span class="cp">#endif</span>
    <span class="p">};</span>

    <span class="n">APP_UART_FIFO_INIT</span><span class="p">(</span><span class="o">&amp;</span><span class="n">comm_params</span><span class="p">,</span>
                       <span class="n">UART_RX_BUF_SIZE</span><span class="p">,</span>
                       <span class="n">UART_TX_BUF_SIZE</span><span class="p">,</span>
                       <span class="n">uart_event_handle</span><span class="p">,</span>
                       <span class="n">APP_IRQ_PRIORITY_LOWEST</span><span class="p">,</span>
                       <span class="n">err_code</span><span class="p">);</span>
    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">err_code</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="handling-data-received-over-ble">
<h3><span class="section-number">11.5. </span>Handling data received over BLE<a class="headerlink" href="#handling-data-received-over-ble" title="Permalink to this headline">¶</a></h3>
<p>When initializing the service in the services_init() function, the application passes the function nus_data_handler, which is used for handling the received data. When the Nordic UART Service indicates that data has been received over BLE from the peer, the same data is relayed to the UART. The nus_data_handler function is implemented as follows:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span> <span class="kt">void</span> <span class="n">nus_data_handler</span><span class="p">(</span><span class="n">ble_nus_evt_t</span> <span class="o">*</span> <span class="n">p_evt</span><span class="p">)</span>
<span class="p">{</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">p_evt</span><span class="o">-&gt;</span><span class="n">type</span> <span class="o">==</span> <span class="n">BLE_NUS_EVT_RX_DATA</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">uint32_t</span> <span class="n">err_code</span><span class="p">;</span>

        <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;Received data from BLE NUS. Writing data on UART.&quot;</span><span class="p">);</span>
        <span class="n">NRF_LOG_HEXDUMP_DEBUG</span><span class="p">(</span><span class="n">p_evt</span><span class="o">-&gt;</span><span class="n">params</span><span class="p">.</span><span class="n">rx_data</span><span class="p">.</span><span class="n">p_data</span><span class="p">,</span> <span class="n">p_evt</span><span class="o">-&gt;</span><span class="n">params</span><span class="p">.</span><span class="n">rx_data</span><span class="p">.</span><span class="n">length</span><span class="p">);</span>

        <span class="k">for</span> <span class="p">(</span><span class="kt">uint32_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">p_evt</span><span class="o">-&gt;</span><span class="n">params</span><span class="p">.</span><span class="n">rx_data</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">do</span>
            <span class="p">{</span>
                <span class="n">err_code</span> <span class="o">=</span> <span class="n">app_uart_put</span><span class="p">(</span><span class="n">p_evt</span><span class="o">-&gt;</span><span class="n">params</span><span class="p">.</span><span class="n">rx_data</span><span class="p">.</span><span class="n">p_data</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
                <span class="k">if</span> <span class="p">((</span><span class="n">err_code</span> <span class="o">!=</span> <span class="n">NRF_SUCCESS</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">err_code</span> <span class="o">!=</span> <span class="n">NRF_ERROR_BUSY</span><span class="p">))</span>
                <span class="p">{</span>
                    <span class="n">NRF_LOG_ERROR</span><span class="p">(</span><span class="s">&quot;Failed receiving NUS message. Error 0x%x. &quot;</span><span class="p">,</span> <span class="n">err_code</span><span class="p">);</span>
                    <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">err_code</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">err_code</span> <span class="o">==</span> <span class="n">NRF_ERROR_BUSY</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">p_evt</span><span class="o">-&gt;</span><span class="n">params</span><span class="p">.</span><span class="n">rx_data</span><span class="p">.</span><span class="n">p_data</span><span class="p">[</span><span class="n">p_evt</span><span class="o">-&gt;</span><span class="n">params</span><span class="p">.</span><span class="n">rx_data</span><span class="p">.</span><span class="n">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;\r&#39;</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">app_uart_put</span><span class="p">(</span><span class="sc">&#39;\n&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="n">NRF_ERROR_BUSY</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="handling-data-received-over-uart">
<h3><span class="section-number">11.6. </span>Handling data received over UART<a class="headerlink" href="#handling-data-received-over-uart" title="Permalink to this headline">¶</a></h3>
<p>Data that is received from the UART undergoes certain checks before it is relayed to the BLE peer using the Nordic UART Service. The code shown below is part of the app_uart event handler, which is called every time a character is received over the UART. Received characters are buffered into a string until a newline character is received or the size of the string matches the current MTU size. When one of these two conditions is met, the string is sent over BLE using the ble_nus_data_send function.</p>
<p>The implementation of the example requires the newline character to be ‘n’. Some terminals use different characters to trigger a newline, for example ‘r’. Therefore, you might need to configure your terminal to interpret only ‘n’ as a newline.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">uart_event_handle</span><span class="p">(</span><span class="n">app_uart_evt_t</span> <span class="o">*</span> <span class="n">p_event</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">static</span> <span class="kt">uint8_t</span> <span class="n">data_array</span><span class="p">[</span><span class="n">BLE_NUS_MAX_DATA_LEN</span><span class="p">];</span>
    <span class="k">static</span> <span class="kt">uint8_t</span> <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">uint32_t</span>       <span class="n">err_code</span><span class="p">;</span>

    <span class="k">switch</span> <span class="p">(</span><span class="n">p_event</span><span class="o">-&gt;</span><span class="n">evt_type</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">case</span> <span class="nl">APP_UART_DATA_READY</span><span class="p">:</span>
            <span class="n">UNUSED_VARIABLE</span><span class="p">(</span><span class="n">app_uart_get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">data_array</span><span class="p">[</span><span class="n">index</span><span class="p">]));</span>
            <span class="n">index</span><span class="o">++</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">((</span><span class="n">data_array</span><span class="p">[</span><span class="n">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;\n&#39;</span><span class="p">)</span> <span class="o">||</span>
                <span class="p">(</span><span class="n">data_array</span><span class="p">[</span><span class="n">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;\r&#39;</span><span class="p">)</span> <span class="o">||</span>
                <span class="p">(</span><span class="n">index</span> <span class="o">&gt;=</span> <span class="n">m_ble_nus_max_data_len</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">index</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">NRF_LOG_DEBUG</span><span class="p">(</span><span class="s">&quot;Ready to send data over BLE NUS&quot;</span><span class="p">);</span>
                    <span class="n">NRF_LOG_HEXDUMP_DEBUG</span><span class="p">(</span><span class="n">data_array</span><span class="p">,</span> <span class="n">index</span><span class="p">);</span>

                    <span class="k">do</span>
                    <span class="p">{</span>
                        <span class="kt">uint16_t</span> <span class="n">length</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">index</span><span class="p">;</span>
                        <span class="n">err_code</span> <span class="o">=</span> <span class="n">ble_nus_data_send</span><span class="p">(</span><span class="o">&amp;</span><span class="n">m_nus</span><span class="p">,</span> <span class="n">data_array</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">length</span><span class="p">,</span> <span class="n">m_conn_handle</span><span class="p">);</span>
                        <span class="k">if</span> <span class="p">((</span><span class="n">err_code</span> <span class="o">!=</span> <span class="n">NRF_ERROR_INVALID_STATE</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                            <span class="p">(</span><span class="n">err_code</span> <span class="o">!=</span> <span class="n">NRF_ERROR_RESOURCES</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                            <span class="p">(</span><span class="n">err_code</span> <span class="o">!=</span> <span class="n">NRF_ERROR_NOT_FOUND</span><span class="p">))</span>
                        <span class="p">{</span>
                            <span class="n">APP_ERROR_CHECK</span><span class="p">(</span><span class="n">err_code</span><span class="p">);</span>
                        <span class="p">}</span>
                    <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">err_code</span> <span class="o">==</span> <span class="n">NRF_ERROR_RESOURCES</span><span class="p">);</span>
                <span class="p">}</span>

                <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">break</span><span class="p">;</span>

        <span class="k">case</span> <span class="nl">APP_UART_COMMUNICATION_ERROR</span><span class="p">:</span>
            <span class="n">APP_ERROR_HANDLER</span><span class="p">(</span><span class="n">p_event</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">.</span><span class="n">error_communication</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>

        <span class="k">case</span> <span class="nl">APP_UART_FIFO_ERROR</span><span class="p">:</span>
            <span class="n">APP_ERROR_HANDLER</span><span class="p">(</span><span class="n">p_event</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">.</span><span class="n">error_code</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>

        <span class="k">default</span><span class="o">:</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="setup">
<h3><span class="section-number">11.7. </span>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h3>
<p>You can find the source code and the project file of the example in the following folder: &lt;InstallFolder&gt;examplesble_peripheralble_app_uart</p>
<p>LED assignments:</p>
<ul class="simple">
<li><p>Advertising mode: LED 1 is blinking (period 2 seconds, duty cycle 10%).</p></li>
<li><p>Connected mode: LED 1 is on.</p></li>
</ul>
<p>Button assignments: BSP BLE Button Assignments</p>
</div>
<div class="section" id="testing">
<h3><span class="section-number">11.8. </span>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h3>
<p>Test the UART Application with the nRF UART app, which is available for iOS (App Store) and Android (Google Play).</p>
<p>You can also test the application with nRF Connect by performing the following steps:</p>
<ul>
<li><p>Connect the board to the computer using a USB cable. The board is assigned a COM port, which is visible in the Device Manager.</p></li>
<li><p>Start a terminal emulator like PuTTY and connect to the used COM port with the following UART settings:</p>
<blockquote>
<div><ul class="simple">
<li><p>Baud rate: 115.200</p></li>
<li><p>8 data bits</p></li>
<li><p>1 stop bit</p></li>
<li><p>No parity</p></li>
<li><p>HW flow control: None</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Compile and program the application. Observe that the BSP_INDICATE_ADVERTISING state is indicated, and that the device is advertising with the device name “Nordic_UART”.</p></li>
<li><p>Observe that the text “UART Start!” is printed on the COM listener running on the computer.</p></li>
<li><p>Connect to the device from nRF Connect. Observe that the BSP_INDICATE_CONNECTED state is indicated.</p></li>
<li><p>Observe that the services are shown in the connected device.</p></li>
<li><p>Select the UART RX characteristic value in nRF Connect. You can write hexadecimal ASCII values to the UART RX and get the text displayed on the COM listener.</p></li>
<li><p>Write ‘30 31 32 33 34 35 36 37 38 39’ (the hexadecimal value for the string “0123456789”) and click ‘write’. Verify that the text “0123456789” is displayed on the COM listener.</p></li>
<li><p>For sending data from the device to nRF Connect, enter any text, for example, “Hello”, on the COM listener. Observe that a notification with the corresponding ASCII values is sent to the peer on handle 0x12. For the string “Hello”, the notification is ‘48 65 6C 6C 6F’.</p></li>
<li><p>Disconnect the device in nRF Connect. Observe that the BSP_INDICATE_ADVERTISING state is indicated.</p></li>
<li><p>If no peer connects to the application within 180 seconds (APP_ADV_TIMEOUT_IN_SECONDS), the application will put the chip into system-off mode.</p></li>
</ul>
</div>
</div>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">sphinx</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-usage/pyqt5">1. pyqt5</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#ui">2. ui界面控件说明</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-usage/python">3. python</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#bo">4. 解析BO</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-usage/qt">5. qt</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-usage/dbc">6. dbc</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-usage/docker">7. docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#nginx">8. nginx</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-usage/windows">9. windows搭建web</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-usage/embed">10. embed</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-usage/nrf52832">11. nrf52832</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, bona.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.5.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>